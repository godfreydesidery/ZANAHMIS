"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[8460],{8460:(be,Z,g)=>{g.r(Z),g.d(Z,{PatientRegisterComponent:()=>Pe});var _=g(5861),T=g(6814),p=g(9862),m=g(95),u=g(4716),y=g(977),N=g(4185),f=g(553),e=g(6689),C=g(6466),v=g(7140),M=g(585),x=g(379);function A(s,r){if(1&s&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("ngValue",i),e.xp6(1),e.Oqu(i)}}function P(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function b(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",23)(1,"h4",21),e._uU(2,"Select Insurance Plan"),e.qZA(),e.TgZ(3,"select",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.insurancePlanName=t)}),e._UZ(4,"option"),e.YNc(5,P,2,1,"option",58),e.qZA()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.Q6J("ngModel",i.insurancePlanName),e.xp6(2),e.Q6J("ngForOf",i.insurancePlanNames)}}function q(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",23)(1,"h4",21),e._uU(2,"Membership No"),e.qZA(),e.TgZ(3,"input",73),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw(2);return e.KtG(a.membershipNo=t)}),e.qZA()()}if(2&s){const i=e.oxw(2);e.xp6(3),e.Q6J("ngModel",i.membershipNo)}}function U(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.registerPatient())}),e._uU(1,"Register"),e.qZA()}}function R(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"h4",21)(4,"b"),e._uU(5,"Patient's Credentials"),e.qZA()(),e.TgZ(6,"input",22),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.id=t)}),e.qZA(),e.TgZ(7,"div",3)(8,"div",23)(9,"h4",21),e._uU(10,"First Name*"),e.qZA(),e.TgZ(11,"input",24),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.firstName=t)}),e.qZA()(),e.TgZ(12,"div",23)(13,"h4",21),e._uU(14,"Middle Name"),e.qZA(),e.TgZ(15,"input",25),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.middleName=t)}),e.qZA()(),e.TgZ(16,"div",23)(17,"h4",21),e._uU(18,"Last Name*"),e.qZA(),e.TgZ(19,"input",26),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.lastName=t)}),e.qZA()()(),e._UZ(20,"hr"),e.qZA(),e.TgZ(21,"div",4)(22,"div",3)(23,"div",23)(24,"h4",21),e._uU(25,"Date of Birth*"),e.qZA(),e.TgZ(26,"input",27),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.dateOfBirth=t)}),e.qZA()(),e.TgZ(27,"div",23)(28,"h4",21),e._uU(29,"Gender*"),e.qZA(),e.TgZ(30,"select",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.gender=t)}),e.TgZ(31,"option"),e._uU(32),e.qZA(),e.TgZ(33,"option"),e._uU(34,"Male"),e.qZA(),e.TgZ(35,"option"),e._uU(36,"Female"),e.qZA()()(),e.TgZ(37,"div",23)(38,"h4",21),e._uU(39,"Select Patient Type*"),e.qZA(),e.TgZ(40,"select",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.type=t)}),e._UZ(41,"option"),e.TgZ(42,"option"),e._uU(43,"OUTPATIENT"),e.qZA(),e.TgZ(44,"option"),e._uU(45,"OUTSIDER"),e.qZA()()(),e.TgZ(46,"div",23)(47,"h4",21),e._uU(48,"Nationality"),e.qZA(),e.TgZ(49,"input",68),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.nationality=t)}),e.qZA(),e.TgZ(50,"datalist",69),e.YNc(51,A,2,2,"option",31),e.qZA()(),e.TgZ(52,"div",23)(53,"h4",21),e._uU(54,"ID No"),e.qZA(),e.TgZ(55,"input",32),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.nationalId=t)}),e.qZA()(),e.TgZ(56,"div",23)(57,"h4",21),e._uU(58,"Passport No"),e.qZA(),e.TgZ(59,"input",33),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.passportNo=t)}),e.qZA()(),e.TgZ(60,"div",23)(61,"h4",21),e._uU(62,"Phone No"),e.qZA(),e.TgZ(63,"input",34),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.phoneNo=t)}),e.qZA()(),e.TgZ(64,"div",23)(65,"h4",21),e._uU(66,"Email"),e.qZA(),e.TgZ(67,"input",35),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.email=t)}),e.qZA()(),e.TgZ(68,"div",23)(69,"h4",21),e._uU(70,"Address"),e.qZA(),e.TgZ(71,"textarea",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.address=t)}),e.qZA()()()(),e.TgZ(72,"div",4),e._UZ(73,"hr"),e.TgZ(74,"h4",21)(75,"b"),e._uU(76,"Relative Information"),e.qZA()(),e.TgZ(77,"div",3)(78,"div",23)(79,"h4",21),e._uU(80,"Full Name"),e.qZA(),e.TgZ(81,"input",36),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.kinFullName=t)}),e.qZA()(),e.TgZ(82,"div",23)(83,"h4",21),e._uU(84,"Relationship"),e.qZA(),e.TgZ(85,"input",37),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.kinRelationship=t)}),e.qZA()(),e.TgZ(86,"div",23)(87,"h4",21),e._uU(88,"Phone No"),e.qZA(),e.TgZ(89,"input",38),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.kinPhoneNo=t)}),e.qZA()()(),e._UZ(90,"hr"),e.qZA(),e.TgZ(91,"div",4)(92,"div",3)(93,"div",23)(94,"h4",21)(95,"b"),e._uU(96,"Select Payment Type"),e.qZA()(),e.TgZ(97,"select",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.paymentType=t)})("ngModelChange",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.changePaymentType(t.paymentType))}),e._UZ(98,"option"),e.TgZ(99,"option"),e._uU(100,"CASH"),e.qZA(),e.TgZ(101,"option"),e._uU(102,"INSURANCE"),e.qZA()()(),e.YNc(103,b,6,2,"div",70),e.YNc(104,q,4,1,"div",70),e.qZA()(),e.TgZ(105,"div",4),e.YNc(106,U,2,0,"button",71),e.qZA()()()}if(2&s){const i=e.oxw();e.xp6(6),e.Q6J("ngModel",i.id),e.xp6(5),e.Q6J("ngModel",i.firstName),e.xp6(4),e.Q6J("ngModel",i.middleName),e.xp6(4),e.Q6J("ngModel",i.lastName),e.xp6(7),e.Q6J("ngModel",i.dateOfBirth),e.xp6(4),e.Q6J("ngModel",i.gender),e.xp6(2),e.Oqu(i.gender),e.xp6(8),e.Q6J("ngModel",i.type),e.xp6(9),e.Q6J("ngModel",i.nationality),e.xp6(2),e.Q6J("ngForOf",i.nationalities),e.xp6(4),e.Q6J("ngModel",i.nationalId),e.xp6(4),e.Q6J("ngModel",i.passportNo),e.xp6(4),e.Q6J("ngModel",i.phoneNo),e.xp6(4),e.Q6J("ngModel",i.email),e.xp6(4),e.Q6J("ngModel",i.address),e.xp6(10),e.Q6J("ngModel",i.kinFullName),e.xp6(4),e.Q6J("ngModel",i.kinRelationship),e.xp6(4),e.Q6J("ngModel",i.kinPhoneNo),e.xp6(8),e.Q6J("ngModel",i.paymentType),e.xp6(6),e.Q6J("ngIf","INSURANCE"===i.paymentType),e.xp6(1),e.Q6J("ngIf",""!=i.insurancePlanName&&"INSURANCE"===i.paymentType),e.xp6(2),e.Q6J("ngIf",""!=i.paymentType)}}function w(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"option",81),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(3);return e.KtG(o.getPatient(a.id))}),e.TgZ(1,"b"),e._uU(2),e.qZA(),e._uU(3," FileNo: "),e.TgZ(4,"b"),e._uU(5),e.qZA()()}if(2&s){const i=r.$implicit;e.xp6(2),e.lnq("",i.firstName," ",i.middleName," ",i.lastName," | "),e.xp6(3),e.Oqu(i.no)}}function I(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"select",79),e.YNc(3,w,6,4,"option",80),e.qZA()()()),2&s){const i=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",i.patients)}}function k(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"div",3)(4,"div",4)(5,"div",3),e._UZ(6,"div",75),e.TgZ(7,"div",76)(8,"h4",21)(9,"b"),e._uU(10,"Search Patient(Enter 3 characters)"),e._UZ(11,"br"),e._uU(12," Name, File No or Phone"),e.qZA()(),e.TgZ(13,"input",77),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.searchKey=t)})("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.loadPatientsLike(t))}),e.qZA(),e.YNc(14,I,4,1,"div",53),e.qZA(),e.TgZ(15,"div",75),e._UZ(16,"br")(17,"br")(18,"br"),e.TgZ(19,"button",78),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.existingPatientPrompt())}),e._uU(20,"Reset"),e.qZA()()()()()(),e._UZ(21,"br"),e.qZA(),e._UZ(22,"br"),e.qZA()}if(2&s){const i=e.oxw();e.xp6(13),e.Q6J("ngModel",i.searchKey)("readonly",i.lockSearchKey),e.xp6(1),e.Q6J("ngIf",!1===i.lockSearchKey&&i.patients.length>0)}}function E(s,r){1&s&&(e.TgZ(0,"button",90),e._uU(1,"Edit Patient"),e.qZA())}function J(s,r){if(1&s&&(e.TgZ(0,"div")(1,"span",88),e._uU(2),e.qZA(),e._UZ(3,"br")(4,"br"),e.TgZ(5,"span",88),e._uU(6),e.qZA(),e._UZ(7,"br")(8,"br"),e.qZA()),2&s){const i=e.oxw(2);e.xp6(2),e.hij("Insurance: ",i.insurancePlanName,""),e.xp6(4),e.hij("Membership No: ",i.membershipNo,"")}}function B(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function O(s,r){1&s&&e._UZ(0,"b")}function F(s,r){if(1&s&&(e.TgZ(0,"b"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&s){const i=e.oxw(5);e.xp6(1),e.Oqu(e.Dn7(2,1,i.consultationFee,"",""))}}function S(s,r){if(1&s&&(e.TgZ(0,"div",47)(1,"span",92),e._uU(2,"Consultation Fee "),e.YNc(3,O,1,0,"b",11),e.YNc(4,F,3,5,"b",11),e.qZA()()),2&s){const i=e.oxw(4);e.xp6(3),e.Q6J("ngIf","INSURANCE"===i.paymentType),e.xp6(1),e.Q6J("ngIf","INSURANCE"!=i.paymentType)}}function K(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function D(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",74),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(4);return e.KtG(t.doConsultation())}),e._uU(1,"Send"),e.qZA()}}function Q(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"h4",21)(2,"b"),e._uU(3,"Send Outpatient to Doctor"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",47)(6,"h4",21),e._uU(7,"Select Clinic"),e.qZA(),e.TgZ(8,"select",91),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw(3);return e.KtG(a.clinicName=t)})("ngModelChange",function(){e.CHM(i);const t=e.oxw(3);return e.KtG(t.loadClinicianNames(t.clinicName))})("ngModelChange",function(){e.CHM(i);const t=e.oxw(3);return e.KtG(t.loadConsultationFee())}),e._UZ(9,"option"),e.YNc(10,B,2,1,"option",58),e.qZA()(),e.YNc(11,S,5,2,"div",49),e.TgZ(12,"div",47)(13,"h4",21),e._uU(14,"Select Doctor"),e.qZA(),e.TgZ(15,"select",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw(3);return e.KtG(a.clinicianName=t)}),e._UZ(16,"option"),e.YNc(17,K,2,1,"option",58),e.qZA(),e._UZ(18,"br"),e.YNc(19,D,2,0,"button",71),e.qZA()()()}if(2&s){const i=e.oxw(3);e.xp6(8),e.Q6J("ngModel",i.clinicName),e.xp6(2),e.Q6J("ngForOf",i.clinicNames),e.xp6(1),e.Q6J("ngIf",""!=i.clinicName),e.xp6(4),e.Q6J("ngModel",i.clinicianName),e.xp6(2),e.Q6J("ngForOf",i.clinicianNames),e.xp6(2),e.Q6J("ngIf",""!=i.clinicName&&""!=i.clinicianName)}}function G(s,r){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Q,20,6,"div",11),e.qZA()),2&s){const i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0===i.consultations.length)}}function L(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"h4",21)(2,"b"),e._uU(3,"Add service for Outsider"),e.qZA()(),e.TgZ(4,"div",3)(5,"div",4)(6,"button",93),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.clearTests())}),e._uU(7,"Add Lab Test"),e.qZA(),e._UZ(8,"br")(9,"br"),e.TgZ(10,"button",94),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.clearTests())}),e._uU(11,"Add Radiology"),e.qZA(),e._UZ(12,"br")(13,"br"),e.qZA()()()}}function H(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(i);const t=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.cancelConsultation(t))}),e._UZ(1,"i",99),e.qZA()}}function z(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",98),e.NdJ("click",function(){e.CHM(i);const t=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.freeConsultation(t))}),e._uU(1,"Free Patient "),e.qZA()}}function Y(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"button",98),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(5);return e.KtG(t.freeShow())}),e._uU(2,"Free Patient "),e.qZA()()}}function W(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",101),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(3).$implicit,a=e.oxw(3);return e.KtG(a.freeInProcessConsultation(t))}),e._uU(1,"Free"),e.qZA()}}function $(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div")(1,"div"),e._uU(2,"To free this patient, enter File No"),e.qZA(),e.TgZ(3,"div")(4,"input",52),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw(5);return e.KtG(a.regNoToFree=t)}),e.qZA()(),e._UZ(5,"br"),e.YNc(6,W,2,0,"button",100),e.qZA()}if(2&s){const i=e.oxw(5);e.xp6(4),e.Q6J("ngModel",i.regNoToFree),e.xp6(2),e.Q6J("ngIf",""!=i.regNoToFree)}}function V(s,r){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Y,3,0,"div",11),e.YNc(2,$,7,2,"div",11),e.qZA()),2&s){const i=e.oxw(4);e.xp6(1),e.Q6J("ngIf",!1===i.showFree),e.xp6(1),e.Q6J("ngIf",!0===i.showFree)}}function j(s,r){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,H,2,0,"button",97),e.YNc(9,z,2,0,"button",97),e.YNc(10,V,3,2,"div",11),e.qZA()()),2&s){const i=r.$implicit;e.xp6(2),e.Oqu(i.clinic.name),e.xp6(2),e.Oqu(i.clinician.nickname),e.xp6(2),e.Oqu(i.status),e.xp6(2),e.Q6J("ngIf","PENDING"===i.status),e.xp6(1),e.Q6J("ngIf","TRANSFERED"===i.status),e.xp6(1),e.Q6J("ngIf","IN-PROCESS"===i.status)}}function X(s,r){if(1&s&&(e.TgZ(0,"div")(1,"div",95)(2,"h4",21)(3,"b"),e._uU(4,"This patient has been assigned to the following clinic(s)."),e.qZA()()(),e.TgZ(5,"div",4)(6,"table",96)(7,"thead")(8,"tr")(9,"td"),e._uU(10,"Clinic"),e.qZA(),e.TgZ(11,"td"),e._uU(12,"Doctor"),e.qZA(),e.TgZ(13,"td"),e._uU(14,"Status"),e.qZA(),e.TgZ(15,"td"),e._uU(16,"Action"),e.qZA()()(),e.TgZ(17,"tbody"),e.YNc(18,j,11,6,"tr",58),e.qZA()()()()),2&s){const i=e.oxw(2);e.xp6(18),e.Q6J("ngForOf",i.consultations)}}function ee(s,r){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,null==i||null==i.patientBill?null:i.patientBill.amount,"",""))}}function te(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"---"),e.qZA())}function ne(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",103),e.YNc(6,ee,3,5,"span",11),e.YNc(7,te,2,0,"span",11),e.qZA(),e.TgZ(8,"td")(9,"a",104),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(3);return e.KtG(o.deleteLabTest(a.id))}),e._UZ(10,"i",105),e._uU(11,"Delete"),e.qZA()()()}if(2&s){const i=r.$implicit;e.xp6(2),e.Oqu(i.id),e.xp6(2),e.Oqu(null==i||null==i.labTestType?null:i.labTestType.name),e.xp6(2),e.Q6J("ngIf","COVERED"!=i.patientBill.status),e.xp6(1),e.Q6J("ngIf","COVERED"===(null==i||null==i.patientBill?null:i.patientBill.status))}}function ie(s,r){if(1&s&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&s){const i=e.oxw().$implicit;e.xp6(1),e.Oqu(e.Dn7(2,1,null==i||null==i.patientBill?null:i.patientBill.amount,"",""))}}function oe(s,r){1&s&&(e.TgZ(0,"span"),e._uU(1,"---"),e.qZA())}function ae(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",103),e.YNc(6,ie,3,5,"span",11),e.YNc(7,oe,2,0,"span",11),e.qZA(),e.TgZ(8,"td")(9,"a",104),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(3);return e.KtG(o.deleteRadiology(null==a?null:a.id))}),e._UZ(10,"i",105),e._uU(11,"Delete"),e.qZA()()()}if(2&s){const i=r.$implicit;e.xp6(2),e.Oqu(null==i?null:i.id),e.xp6(2),e.Oqu(null==i||null==i.radiologyType?null:i.radiologyType.name),e.xp6(2),e.Q6J("ngIf","COVERED"!=(null==i||null==i.patientBill?null:i.patientBill.status)),e.xp6(1),e.Q6J("ngIf","COVERED"===(null==i||null==i.patientBill?null:i.patientBill.status))}}function se(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",102)(2,"div",83),e._UZ(3,"hr"),e.TgZ(4,"h4",21)(5,"b"),e._uU(6,"Ordered Lab Tests"),e.qZA()(),e.TgZ(7,"table",96)(8,"thead")(9,"tr")(10,"td")(11,"b"),e._uU(12,"ID"),e.qZA()(),e.TgZ(13,"td")(14,"b"),e._uU(15,"Test"),e.qZA()(),e.TgZ(16,"td")(17,"b"),e._uU(18,"Price"),e.qZA()(),e.TgZ(19,"td")(20,"b"),e._uU(21,"Action"),e.qZA()()()(),e.TgZ(22,"tbody"),e.YNc(23,ne,12,4,"tr",58),e.TgZ(24,"tr"),e._UZ(25,"td"),e.TgZ(26,"td")(27,"b"),e._uU(28,"Total"),e.qZA()(),e.TgZ(29,"td",103)(30,"b"),e._uU(31),e.ALo(32,"currency"),e.qZA()(),e._UZ(33,"td"),e.qZA()()()()(),e.TgZ(34,"div",102)(35,"div",83),e._UZ(36,"hr"),e.TgZ(37,"h4",21)(38,"b"),e._uU(39,"Ordered Radiologies"),e.qZA()(),e.TgZ(40,"table",96)(41,"thead")(42,"tr")(43,"td")(44,"b"),e._uU(45,"ID"),e.qZA()(),e.TgZ(46,"td")(47,"b"),e._uU(48,"Radiology"),e.qZA()(),e.TgZ(49,"td")(50,"b"),e._uU(51,"Price"),e.qZA()(),e.TgZ(52,"td")(53,"b"),e._uU(54,"Action"),e.qZA()()()(),e.TgZ(55,"tbody"),e.YNc(56,ae,12,4,"tr",58),e.TgZ(57,"tr"),e._UZ(58,"td"),e.TgZ(59,"td")(60,"b"),e._uU(61,"Total"),e.qZA()(),e.TgZ(62,"td",103)(63,"b"),e._uU(64),e.ALo(65,"currency"),e.qZA()(),e._UZ(66,"td"),e.qZA()()()()()()),2&s){const i=e.oxw(2);e.xp6(23),e.Q6J("ngForOf",i.labTests),e.xp6(8),e.Oqu(e.Dn7(32,4,i.labTotal,"","")),e.xp6(25),e.Q6J("ngForOf",i.radiologies),e.xp6(8),e.Oqu(e.Dn7(65,8,i.radiologyTotal,"",""))}}function re(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",4)(1,"div",82)(2,"div",3)(3,"div",59)(4,"div",83)(5,"h3",21)(6,"b"),e._uU(7,"Patient Details"),e.qZA(),e.YNc(8,E,2,0,"button",84),e.qZA(),e.TgZ(9,"table",85)(10,"tbody")(11,"tr")(12,"td")(13,"b"),e._uU(14,"First Name"),e.qZA()(),e.TgZ(15,"td"),e._uU(16),e.qZA()(),e.TgZ(17,"tr")(18,"td")(19,"b"),e._uU(20,"Last Name"),e.qZA()(),e.TgZ(21,"td"),e._uU(22),e.qZA()(),e.TgZ(23,"tr")(24,"td")(25,"b"),e._uU(26,"Other Names"),e.qZA()(),e.TgZ(27,"td"),e._uU(28),e.qZA()(),e.TgZ(29,"tr")(30,"td")(31,"b"),e._uU(32,"File No"),e.qZA()(),e.TgZ(33,"td"),e._uU(34),e.qZA()(),e.TgZ(35,"tr")(36,"td")(37,"b"),e._uU(38,"Phone No"),e.qZA()(),e.TgZ(39,"td"),e._uU(40),e.qZA()(),e.TgZ(41,"tr")(42,"td")(43,"b"),e._uU(44,"Date of Birth"),e.qZA()(),e.TgZ(45,"td"),e._uU(46),e.ALo(47,"date"),e.qZA()(),e.TgZ(48,"tr")(49,"td")(50,"b"),e._uU(51,"Gender"),e.qZA()(),e.TgZ(52,"td"),e._uU(53),e.qZA()(),e.TgZ(54,"tr")(55,"td")(56,"b"),e._uU(57,"Address"),e.qZA()(),e.TgZ(58,"td"),e._uU(59),e.qZA()(),e.TgZ(60,"tr")(61,"td")(62,"b"),e._uU(63,"Country Name"),e.qZA()(),e.TgZ(64,"td"),e._uU(65),e.qZA()()()()()(),e.TgZ(66,"div",59)(67,"div",83)(68,"h4",21)(69,"b"),e._uU(70,"Next of Kin Details"),e.qZA()(),e.TgZ(71,"table",85)(72,"tbody")(73,"tr")(74,"td"),e._uU(75,"Name"),e.qZA(),e.TgZ(76,"td"),e._uU(77),e.qZA()(),e.TgZ(78,"tr")(79,"td"),e._uU(80,"Phone No"),e.qZA(),e.TgZ(81,"td"),e._uU(82),e.qZA()()()()(),e.TgZ(83,"div",83)(84,"h4",21)(85,"b"),e._uU(86,"Last Patient Payment Details"),e.qZA()(),e.TgZ(87,"table",85)(88,"tbody")(89,"tr")(90,"td"),e._uU(91,"Last Visit"),e.qZA(),e.TgZ(92,"td"),e._uU(93),e.ALo(94,"dateTime"),e.qZA()(),e.TgZ(95,"tr")(96,"td"),e._uU(97,"Last Card/Payment Type used"),e.qZA(),e.TgZ(98,"td"),e._uU(99),e.qZA()()()()(),e.TgZ(100,"span",86),e._uU(101),e.qZA(),e.TgZ(102,"span",87),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.changeType())}),e._uU(103,"Change Patient Type"),e.qZA(),e._UZ(104,"br")(105,"br"),e.TgZ(106,"span",88),e._uU(107),e.qZA(),e.TgZ(108,"span",89),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.clearEditPaymentType())})("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.clearEditMembershipNo())})("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.clearEditInsurancePlanName())}),e._uU(109,"Change Payment Type"),e.qZA(),e._UZ(110,"br")(111,"br"),e.YNc(112,J,9,2,"div",11),e.qZA(),e.TgZ(113,"div",59)(114,"div"),e.YNc(115,G,2,1,"div",11),e.YNc(116,L,14,0,"div",11),e.qZA(),e.YNc(117,X,19,1,"div",11),e.qZA()(),e.YNc(118,se,67,12,"div",53),e.qZA()()}if(2&s){const i=e.oxw();e.xp6(8),e.Q6J("ngIf","DECEASED"!=i.type),e.xp6(8),e.Oqu(i.firstName),e.xp6(6),e.Oqu(i.lastName),e.xp6(6),e.Oqu(i.middleName),e.xp6(6),e.Oqu(i.no),e.xp6(6),e.Oqu(i.phoneNo),e.xp6(6),e.Oqu(e.lcZ(47,21,i.dateOfBirth)),e.xp6(7),e.Oqu(i.gender),e.xp6(6),e.Oqu(i.address),e.xp6(6),e.Oqu(i.nationality),e.xp6(12),e.Oqu(i.kinFullName),e.xp6(5),e.Oqu(i.kinPhoneNo),e.xp6(11),e.Oqu(e.lcZ(94,23,i.lastVisitDate)),e.xp6(6),e.Oqu(i.paymentType),e.xp6(2),e.hij("Patient Type: ",i.type,""),e.xp6(6),e.hij("Payment Type: ",i.paymentType,""),e.xp6(5),e.Q6J("ngIf","INSURANCE"===i.paymentType),e.xp6(3),e.Q6J("ngIf","OUTPATIENT"===i.type&&null!=i.id&&""!=i.paymentType),e.xp6(1),e.Q6J("ngIf","OUTSIDER"===i.type),e.xp6(1),e.Q6J("ngIf",i.consultations.length>0&&null!=i.id&&"OUTPATIENT"===i.type),e.xp6(1),e.Q6J("ngIf","OUTSIDER"===i.type)}}function le(s,r){if(1&s&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.Q6J("ngValue",i),e.xp6(1),e.Oqu(i)}}function de(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.updatePatient())}),e._uU(1,"Update"),e.qZA()}}function pe(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function _e(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",47)(1,"h4",21),e._uU(2,"Select Insurance Plan"),e.qZA(),e.TgZ(3,"select",48),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.editInsurancePlanName=t)})("change",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.clearEditMembershipNo())}),e._UZ(4,"option"),e.YNc(5,pe,2,1,"option",58),e.qZA()()}if(2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.editInsurancePlanName),e.xp6(2),e.Q6J("ngForOf",i.insurancePlanNames)}}function ce(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",47)(1,"h4",21),e._uU(2,"Membership No"),e.qZA(),e.TgZ(3,"input",107),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.editMembershipNo=t)}),e.qZA()()}if(2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngModel",i.editMembershipNo)}}function ue(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.savePaymentType())}),e._uU(1,"Save Changes"),e.qZA()}}function ge(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"option",81),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.getLabTestType(a.id))}),e._uU(1),e.qZA()}if(2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i.name)}}function he(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"select",108),e.YNc(3,ge,2,1,"option",80),e.qZA()()()),2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.labTestTypes)}}function me(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"option",81),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.getDiagnosisType(a.id))}),e._uU(1),e.qZA()}if(2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i.name)}}function Te(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"select",108),e.YNc(3,me,2,1,"option",80),e.qZA()()()),2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.diagnosisTypes)}}function Ze(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"option",81),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.getRadiologyType(a.id))}),e._uU(1),e.qZA()}if(2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i.name)}}function ye(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"select",108),e.YNc(3,Ze,2,1,"option",80),e.qZA()()()),2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.radiologyTypes)}}function Ne(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"option",81),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.getDiagnosisType(a.id))}),e._uU(1),e.qZA()}if(2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i.name)}}function fe(s,r){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"select",108),e.YNc(3,Ne,2,1,"option",80),e.qZA()()()),2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.diagnosisTypes)}}function Ce(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function ve(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function Me(s,r){if(1&s&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&s){const i=r.$implicit;e.xp6(1),e.Oqu(i)}}function xe(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"h4"),e._uU(3,"Select Theatre"),e.qZA(),e.TgZ(4,"select",28),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.theatreName=t)}),e._UZ(5,"option"),e.YNc(6,Me,2,1,"option",58),e.qZA()(),e.TgZ(7,"div",109)(8,"h4"),e._uU(9,"Time"),e.qZA(),e.TgZ(10,"input",110),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.procedureTime=t)}),e.qZA()(),e.TgZ(11,"div",109)(12,"h4"),e._uU(13,"Date"),e.qZA(),e.TgZ(14,"input",111),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.procedureDate=t)}),e.qZA()(),e.TgZ(15,"div",109)(16,"h4"),e._uU(17,"Hours"),e.qZA(),e.TgZ(18,"input",112),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.procedureHours=t)}),e.qZA()(),e.TgZ(19,"div",109)(20,"h4"),e._uU(21,"Minutes"),e.qZA(),e.TgZ(22,"input",112),e.NdJ("ngModelChange",function(t){e.CHM(i);const a=e.oxw();return e.KtG(a.procedureMinutes=t)}),e.qZA()()()}if(2&s){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i.theatreName),e.xp6(2),e.Q6J("ngForOf",i.theatreNames),e.xp6(4),e.Q6J("ngModel",i.procedureTime),e.xp6(4),e.Q6J("ngModel",i.procedureDate),e.xp6(4),e.Q6J("ngModel",i.procedureHours),e.xp6(4),e.Q6J("ngModel",i.procedureMinutes)}}function Ae(s,r){if(1&s){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",113),e.NdJ("click",function(){const a=e.CHM(i).$implicit,o=e.oxw();return e.KtG(o.processTransfer(null==a||null==a.consultation||null==a.consultation.patient?null:a.consultation.patient.id,null==a||null==a.clinic?null:a.clinic.name))}),e._uU(13,"Continue"),e.qZA()()()}if(2&s){const i=r.$implicit;e.xp6(2),e.lnq("",null==i||null==i.consultation||null==i.consultation.patient?null:i.consultation.patient.firstName," ",null==i||null==i.consultation||null==i.consultation.patient?null:i.consultation.patient.middleName," ",null==i||null==i.consultation||null==i.consultation.patient?null:i.consultation.patient.lastName,""),e.xp6(2),e.Oqu(null==i||null==i.consultation||null==i.consultation.patient?null:i.consultation.patient.no),e.xp6(2),e.Oqu(null==i||null==i.consultation||null==i.consultation.clinic?null:i.consultation.clinic.name),e.xp6(2),e.Oqu(null==i||null==i.consultation||null==i.consultation.clinician?null:i.consultation.clinician.nickname),e.xp6(2),e.Oqu(null==i||null==i.clinic?null:i.clinic.name)}}const c=f.N.apiUrl;let Pe=(()=>{var s;class r{constructor(n,t,a,o,l){this.auth=n,this.http=t,this.modalService=a,this.spinner=o,this.msgBox=l,this.type="",this.patientRecordMode="",this.insurancePlanName="",this.searchKeys=[],this.searchKeysToDisplay=[],this.clinicNames=[],this.clinicianNames=[],this.clinicName="",this.clinicianName="",this.consultationFee=0,this.insurancePlanNames=[],this.consultations=[],this.editType="",this.editPaymentType="",this.editInsurancePlanName="",this.editMembershipNo="",this.lockSearchKey=!1,this.nonConsultationId=0,this.labTests=[],this.labTestTypeNames=[],this.radiologies=[],this.radiologyTypeNames=[],this.procedures=[],this.procedureTypeNames=[],this.procedureTypeName="",this.diagnosisTypeNames=[],this.labTotal=0,this.radiologyTotal=0,this.procedureTotal=0,this.procedureNote="",this.procedureType="",this.procedureNeedTheatre=!1,this.procedureTheatreName="",this.procedureDiagnosis="",this.procedureHours=0,this.procedureMinutes=0,this.theatreName="",this.theatreNames=[],this.filterRecords="",this.showFree=!1,this.regNoToFree="",this.patientId=null,this.patientNo="",this.patientFirstName="",this.patientMiddleName="",this.patientLastName="",this.patientPhoneNo="",this.patients=[],this.nationalities=["Tanzania","Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas (the)","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia (Plurinational State of)","Bonaire, Sint Eustatius and Saba","Bosnia and Herzegovina","Botswana","Bouvet Island","Brazil","British Indian Ocean Territory (the)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cabo Verde","Cambodia","Cameroon","Canada","Cayman Islands (the)","Central African Republic (the)","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands (the)","Colombia","Comoros (the)","Congo (the Democratic Republic of the)","Congo (the)","Cook Islands (the)","Costa Rica","Croatia","Cuba","Cura\xe7ao","Cyprus","Czechia","C\xf4te d'Ivoire","Denmark","Djibouti","Dominica","Dominican Republic (the)","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Falkland Islands (the) [Malvinas]","Faroe Islands (the)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories (the)","Gabon","Gambia (the)","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (the)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran (Islamic Republic of)","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Korea (the Democratic People's Republic of)","Korea (the Republic of)","Kuwait","Kyrgyzstan","Lao People's Democratic Republic (the)","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macao","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands (the)","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia (Federated States of)","Moldova (the Republic of)","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands (the)","New Caledonia","New Zealand","Nicaragua","Niger (the)","Nigeria","Niue","Norfolk Island","Northern Mariana Islands (the)","Norway","Oman","Pakistan","Palau","Palestine, State of","Panama","Papua New Guinea","Paraguay","Peru","Philippines (the)","Pitcairn","Poland","Portugal","Puerto Rico","Qatar","Republic of North Macedonia","Romania","Russian Federation (the)","Rwanda","R\xe9union","Saint Barth\xe9lemy","Saint Helena, Ascension and Tristan da Cunha","Saint Kitts and Nevis","Saint Lucia","Saint Martin (French part)","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Sint Maarten (Dutch part)","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","South Sudan","Spain","Sri Lanka","Sudan (the)","Suriname","Svalbard and Jan Mayen","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania, United Republic of","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands (the)","Tuvalu","Uganda","Ukraine","United Arab Emirates (the)","United Kingdom of Great Britain and Northern Ireland (the)","United States Minor Outlying Islands (the)","United States of America (the)","Uruguay","Uzbekistan","Vanuatu","Venezuela (Bolivarian Republic of)","Viet Nam","Virgin Islands (British)","Virgin Islands (U.S.)","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe","\xc5land Islands"],this.labTestTypeId=null,this.labTestTypeCode="",this.labTestTypeName="",this.labTestTypes=[],this.radiologyTypeId=null,this.radiologyTypeCode="",this.radiologyTypeName="",this.radiologyTypes=[],this.diagnosisTypeId=null,this.diagnosisTypeCode="",this.diagnosisTypeName="",this.diagnosisTypes=[],this.consultationTransfers=[],this.id=null,this.no="",this.searchKey="",this.firstName="",this.middleName="",this.lastName="",this.type="",this.gender="",this.paymentType="",this.membershipNo="",this.phoneNo="",this.address="",this.email="",this.nationality="Tanzania",this.nationalId="",this.passportNo="",this.kinFullName="",this.kinRelationship="",this.kinPhoneNo=""}ngOnInit(){this.loadClinicNames(),this.loadInsurancePlanNames(),this.loadTheatreNames()}clear(){this.id=null,this.no="",this.searchKey="",this.firstName="",this.middleName="",this.lastName="",this.type="",this.gender="",this.paymentType="",this.membershipNo="",this.phoneNo="",this.address="",this.email="",this.nationality="Tanzania",this.nationalId="",this.passportNo="",this.kinFullName="",this.kinRelationship="",this.kinPhoneNo="",this.insurancePlanName="",this.clinicName="",this.clinicianName="",this.consultationFee=0,this.lockSearchKey=!1,this.nonConsultationId=0,this.labTests=[],this.labTestTypeName="",this.procedures=[],this.procedureTypeName="",this.radiologies=[],this.radiologyTypeName="",this.labTotal=0,this.radiologyTotal=0,this.procedureTotal=0,this.patients=[],this.showFree=!1}newPatientPrompt(){this.patientRecordMode="new",this.id=null,this.clear()}existingPatientPrompt(){this.patientRecordMode="",this.clear()}clearEditType(){this.editType=""}changePaymentType(n){this.paymentType=n}changeEditPaymentType(n){this.editPaymentType=n}clearEditPaymentType(){this.editPaymentType=""}clearEditInsurancePlanName(){this.editInsurancePlanName=""}clearEditMembershipNo(){this.editMembershipNo=""}savePaymentType(){var n=this;return(0,_.Z)(function*(){let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={id:n.id,no:n.no,paymentType:n.editPaymentType,membershipNo:n.editMembershipNo,insurancePlan:{name:n.editInsurancePlanName}};n.spinner.show(),yield n.http.post(c+"/patients/change_payment_type",a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(o=>{var l=n.patientId;n.clear(),n.patientId=l,n.getPatient(n.patientId),n.msgBox.showSuccessMessage("Payment Type changed successifuly")}).catch(o=>{n.msgBox.showErrorMessage(o,"")})})()}registerPatient(){var n=this;return(0,_.Z)(function*(){let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={id:n.id,no:n.no,searchKey:"NA",firstName:n.firstName,middleName:n.middleName,lastName:n.lastName,gender:n.gender,type:n.type,dateOfBirth:n.dateOfBirth,paymentType:n.paymentType,membershipNo:n.membershipNo,phoneNo:n.phoneNo,address:n.address,email:n.email,nationality:n.nationality,nationalId:n.nationalId,passportNo:n.passportNo,kinFullName:n.kinFullName,kinRelationship:n.kinRelationship,kinPhoneNo:n.kinPhoneNo,insurancePlan:{name:n.insurancePlanName}};(null==n.id||""==n.id)&&(""==n.no&&(n.no="NA"),n.spinner.show(),yield n.http.post(c+"/patients/register",a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(o=>{n.msgBox.showSuccessMessage("Patient Registered successifully. Please note patients File No"),n.id=o.id,n.no=o.no,n.firstName=o.firstName,n.middleName=o.middleName,n.lastName=o.lastName,n.gender=o.gender,n.paymentType=o.paymentType,n.type=o.type,n.membershipNo=o.membershipNo,n.phoneNo=o.phoneNo,n.address=o.address,n.email=o.email,n.nationality=o.nationality,n.nationalId=o.nationalId,n.passportNo=o.passportNo,n.kinFullName=o.kinFullName,n.kinRelationship=o.kinRelationship,n.kinPhoneNo=o.kinPhoneNo,n.insurancePlanName=o.insurancePlan?.name,n.patientRecordMode="","OUTPATIENT"===n.type?n.loadActiveConsultation(n.id):"OUTSIDER"===n.type&&n.loadNonConsultationId(n.id)}).catch(o=>{n.msgBox.showErrorMessage(o,"")}))})()}updatePatient(){var n=this;return(0,_.Z)(function*(){var t=!1;let a={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var o={id:n.id,no:n.no,firstName:n.firstName,middleName:n.middleName,lastName:n.lastName,gender:n.gender,type:n.type,dateOfBirth:n.dateOfBirth,paymentType:n.paymentType,membershipNo:n.membershipNo,phoneNo:n.phoneNo,address:n.address,email:n.email,nationality:n.nationality,nationalId:n.nationalId,passportNo:n.passportNo,kinFullName:n.kinFullName,kinRelationship:n.kinRelationship,kinPhoneNo:n.kinPhoneNo,insurancePlan:{name:n.insurancePlanName}};return n.spinner.show(),yield n.http.post(c+"/patients/update",o,a).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(l=>{n.msgBox.showSuccessMessage("Patient updated successifully. Please note patients File No"),n.id=l.id,n.no=l.no,n.firstName=l.firstName,n.middleName=l.middleName,n.lastName=l.lastName,n.gender=l.gender,n.paymentType=l.paymentType,n.type=l.type,n.membershipNo=l.membershipNo,n.phoneNo=l.phoneNo,n.address=l.address,n.email=l.email,n.nationality=l.nationality,n.nationalId=l.nationalId,n.passportNo=l.passportNo,n.kinFullName=l.kinFullName,n.kinRelationship=l.kinRelationship,n.kinPhoneNo=l.kinPhoneNo,n.insurancePlanName=l.insurancePlan?.name,n.patientRecordMode="",t=!0}).catch(l=>{console.log(l),n.msgBox.showErrorMessage(l,""),t=!1}),"OUTPATIENT"===n.type?n.loadActiveConsultation(n.id):"OUTSIDER"===n.type&&n.loadNonConsultationId(n.id),t})()}validatePatient(n){return null!=n.dateOfBirth||(this.msgBox.showErrorMessage3("Date of birth is a required value"),!1)}loadSearchKeys(){var n=this;return(0,_.Z)(function*(){let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/patients/get_all_search_keys",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),n.searchKeys=[],a?.forEach(o=>{n.searchKeys.push(o)})},a=>{console.log(a),n.msgBox.showErrorMessage(a,"Could not load patients")})})()}search(){alert("Success")}onInput(){for(var n=this.searchKey,t=this.searchKeys,a=0;a<t.length&&t[a]!==n;a++);}searchBySearchKey(n){var t=this;return(0,_.Z)(function*(){for(var a="",o=0;o<t.searchKeys.length;o++)if(t.searchKeys[o]===n){a=n;break}if(0===a.length)return;let l={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(c+"/patients/get_by_search_key?search_key="+a,l).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(d=>{t.searchKey=n,t.id=d.id,t.no=d.no,t.firstName=d.firstName,t.middleName=d.middleName,t.lastName=d.lastName,t.gender=d.gender,t.dateOfBirth=d.dateOfBirth,t.paymentType=d.paymentType,t.type=d.type,t.membershipNo=d.membershipNo,t.phoneNo=d.phoneNo,t.address=d.address,t.email=d.email,t.nationality=d.nationality,t.nationalId=d.nationalId,t.passportNo=d.passportNo,t.kinFullName=d.kinFullName,t.kinRelationship=d.kinRelationship,t.kinPhoneNo=d.kinPhoneNo,t.insurancePlanName=d.insurancePlan?.name,t.lockSearchKey=!0}).catch(d=>{console.log(d),t.clear(),t.msgBox.showErrorMessage(d,"")}),"OUTPATIENT"===t.type?yield t.loadActiveConsultation(t.id):"OUTSIDER"===t.type&&(yield t.loadNonConsultationId(t.id),yield t.loadLabTest(0,t.nonConsultationId,0),yield t.loadRadiologies(0,t.nonConsultationId,0),yield t.loadProcedures(0,t.nonConsultationId,0)),yield t.getLastVisitDate()})()}deleteLabTest(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.post(c+"/patients/delete_lab_test?id="+n,null,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{console.log(o),t.loadLabTest(0,t.nonConsultationId,0)}).catch(o=>{t.msgBox.showErrorMessage(o,""),t.loadLabTest(0,t.nonConsultationId,0)})})()}deleteRadiology(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.post(c+"/patients/delete_radiology?id="+n,null,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{console.log(o),t.loadRadiologies(0,t.nonConsultationId,0)}).catch(o=>{t.loadRadiologies(0,t.nonConsultationId,0),t.msgBox.showErrorMessage(o,"")})})()}deleteProcedure(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.post(c+"/patients/delete_procedure?id="+n,null,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{console.log(o),t.loadProcedures(0,t.nonConsultationId,0)}).catch(o=>{t.loadProcedures(0,t.nonConsultationId,0),t.msgBox.showErrorMessage(o,"")})})()}loadRadiologies(n,t,a){var o=this;return(0,_.Z)(function*(){let l={headers:(new p.WM).set("Authorization","Bearer "+o.auth.user.access_token)};o.radiologies=[],o.radiologyTotal=0,o.spinner.show(),yield o.http.get(c+"/patients/load_radiologies?consultation_id="+n+"&non_consultation_id="+t+"&admission_id="+a,l).pipe((0,u.x)(()=>o.spinner.hide())).toPromise().then(d=>{d?.forEach(h=>{o.radiologyTotal=o.radiologyTotal+h.patientBill.amount,o.radiologies.push(h)}),console.log(o.radiologies)}).catch(d=>{console.log(d,""),o.msgBox.showErrorMessage(d,"Could not load radiologies")})})()}loadProcedures(n,t,a){var o=this;return(0,_.Z)(function*(){let l={headers:(new p.WM).set("Authorization","Bearer "+o.auth.user.access_token)};o.procedures=[],o.procedureTotal=0,o.spinner.show(),yield o.http.get(c+"/patients/load_procedures?consultation_id="+n+"&non_consultation_id="+t+"&admission_id="+a,l).pipe((0,u.x)(()=>o.spinner.hide())).toPromise().then(d=>{d?.forEach(h=>{o.procedureTotal=o.procedureTotal+h.patientBill.amount,o.procedures.push(h)}),console.log(o.procedures)}).catch(d=>{console.log(d,""),o.msgBox.showErrorMessage(d,"Could not load procedures")})})()}loadClinicNames(){var n=this;return(0,_.Z)(function*(){let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/clinics/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),n.clinicNames=[],a?.forEach(o=>{n.clinicNames.push(o)})},a=>{console.log(a),n.msgBox.showErrorMessage(a,"Could not load clinics")})})()}loadConsultationFee(){var n=this;return(0,_.Z)(function*(){if("INSURANCE"===n.paymentType)return;let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.consultationFee=0,""!==n.clinicName?(n.spinner.show(),yield n.http.get(c+"/clinics/get_consultation_fee?clinic_name="+n.clinicName,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{n.consultationFee=a},a=>{console.log(a),n.msgBox.showErrorMessage(a,"Could not get consultation fee")})):n.consultationFee=0})()}loadActiveConsultation(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.consultations=[],t.spinner.show(),yield t.http.get(c+"/patients/get_active_consultations?patient_id="+n,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{console.log(o),t.consultations=o},o=>{console.log(o),t.msgBox.showErrorMessage(o,"Could not load active consultations")})})()}loadClinicianNames(n){var t=this;return(0,_.Z)(function*(){if(t.clinicianNames=[],t.clinicianName="",""==n)return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(c+"/clinicians/get_by_clinic_name?clinic_name="+t.clinicName,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{o?.forEach(l=>{t.clinicianNames.push(l.nickname)})}).catch(o=>{t.msgBox.showErrorMessage(o,"Could not load doctors")})})()}loadInsurancePlanNames(){var n=this;return(0,_.Z)(function*(){n.insurancePlanNames=[];let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/insurance_plans/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{a?.forEach(o=>{n.insurancePlanNames.push(o)})}).catch(a=>{n.msgBox.showErrorMessage(a,"Could not load insurance Plans")})})()}doConsultation(){var n=this;return(0,_.Z)(function*(){if(!window.confirm("Send the selected patient to doctor?"))return;let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={name:n.paymentType,insurancePlanName:n.insurancePlanName,insuranceMembershipNo:n.membershipNo};n.spinner.show(),yield n.http.post(c+"/patients/do_consultation?patient_id="+n.id+"&clinic_name="+n.clinicName+"&clinician_name="+n.clinicianName,a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(o=>{n.msgBox.showSuccessMessage("Patient sent to doctor successifuly");var l=n.searchKey;n.clear(),n.searchKey=l,n.searchBySearchKey(n.searchKey)}).catch(o=>{n.msgBox.showErrorMessage(o,"")})})()}cancelConsultation(n){var t=this;return(0,_.Z)(function*(){if(!window.confirm("Cancel this consultation?"))return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.post(c+"/patients/cancel_consultation?id="+n.id,null,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.msgBox.showSuccessMessage("Consultation canceled successifully");var l=t.searchKey;t.clear(),t.searchKey=l,t.searchBySearchKey(t.searchKey)}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}freeShow(){this.showFree=!0}freeInProcessConsultation(n){var t=this;return(0,_.Z)(function*(){if(!window.confirm("Free patient from this consultation?")||!window.confirm("Freing the patient will remove the patient from doctor list!. Continue freing the patient?"))return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.post(c+"/patients/free_consultation?id="+n.id+"&no="+t.regNoToFree,null,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.msgBox.showSuccessMessage("Patient freed successifuly");var l=t.id;t.clear(),t.id=l,t.getPatient(t.id)}).catch(o=>{t.msgBox.showErrorMessage(o,"")}),t.regNoToFree=""})()}freeConsultation(n){var t=this;return(0,_.Z)(function*(){if(!window.confirm("Free patient from this consultation?"))return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.post(c+"/patients/free_consultation?id="+n.id+"&no="+t.regNoToFree,null,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.msgBox.showSuccessMessage("Patient freed successifuly");var l=t.clinicName,d=t.searchKey;t.clear(),t.clinicName=l,t.searchKey=d,t.processTransfer(n.patient.id,t.clinicName),t.loadConsultationFee()}).catch(o=>{t.msgBox.showErrorMessage(o,"")}),t.regNoToFree=""})()}getLastVisitDate(){var n=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/patients/last_visit_date_time?patient_id="+n.id,a).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(o=>{n.lastVisitDate=o}).catch(o=>{n.msgBox.showErrorMessage(o,""),console.log(o)})})()}changeType(){var n=this;return(0,_.Z)(function*(){if(!window.confirm("Confirm changing patient type. Confirm?"))return;let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={id:n.id};n.spinner.show(),yield n.http.post(c+"/patients/change_type",a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(o=>{var l=n.patientId;n.clear(),n.patientId=l,n.getPatient(n.patientId),n.msgBox.showSuccessMessage("Status changed")}).catch(o=>{console.log(o),n.msgBox.showErrorMessage(o,"")})})()}loadProcedureTypeNames(){var n=this;return(0,_.Z)(function*(){n.procedureTypeNames=[];let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/procedure_types/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),a?.forEach(o=>{n.procedureTypeNames.push(o)})}).catch(a=>{n.msgBox.showErrorMessage(a,"Could not load procedure types names")})})()}saveLabTest(){var n=this;return(0,_.Z)(function*(){if("OUTSIDER"!=n.type)return void n.msgBox.showErrorMessage3("Only allowed for outsiders");let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={labTestType:{id:n.labTestTypeId,code:n.labTestTypeCode,name:n.labTestTypeName},diagnosisType:{id:n.diagnosisTypeId,code:n.diagnosisTypeCode,name:n.diagnosisTypeName}};n.spinner.show(),yield n.http.post(c+"/patients/save_lab_test?consultation_id=0&non_consultation_id="+n.nonConsultationId+"&admission_id=0",a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(()=>{n.loadLabTest(0,n.nonConsultationId,0),n.msgBox.showSuccessMessage("Lab Test Saved successifully")}).catch(o=>{n.loadLabTest(0,n.nonConsultationId,0),n.msgBox.showErrorMessage(o,"Could not save Lab Test"),console.log(o)})})()}saveProcedure(){var n=this;return(0,_.Z)(function*(){if("OUTSIDER"!=n.type)return void n.msgBox.showErrorMessage3("Only allowed for outsiders");let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={procedureType:{id:null,code:"",name:n.procedureTypeName},type:n.procedureType,theatre:{name:n.theatreName},diagnosisType:{name:n.diagnosisTypeName},time:n.procedureTime,date:n.procedureDate,hours:n.procedureHours,minutes:n.procedureMinutes};n.spinner.show(),yield n.http.post(c+"/patients/save_procedure?consultation_id=0&non_consultation_id="+n.nonConsultationId+"&admission_id=0",a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(()=>{n.loadProcedures(0,n.nonConsultationId,0),n.msgBox.showSuccessMessage("Procedure Saved successifully")}).catch(o=>{n.loadProcedures(0,n.nonConsultationId,0),n.msgBox.showErrorMessage(o,"Could not save Procedure"),console.log(o)})})()}loadLabTest(n,t,a){var o=this;return(0,_.Z)(function*(){let l={headers:(new p.WM).set("Authorization","Bearer "+o.auth.user.access_token)};o.labTests=[],o.labTotal=0,o.spinner.show(),yield o.http.get(c+"/patients/load_lab_tests?consultation_id="+n+"&non_consultation_id="+t+"&admission_id="+a,l).pipe((0,u.x)(()=>o.spinner.hide())).toPromise().then(d=>{d?.forEach(h=>{o.labTotal=o.labTotal+h.patientBill.amount,o.labTests.push(h)}),console.log(d)}).catch(d=>{o.msgBox.showErrorMessage(d,"Could not load lab tests")})})()}saveRadiology(){var n=this;return(0,_.Z)(function*(){if("OUTSIDER"!=n.type)return void n.msgBox.showErrorMessage3("Only allowed for outsiders");let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var a={radiologyType:{id:n.radiologyTypeId,code:n.radiologyTypeName,name:n.radiologyTypeName},diagnosisType:{id:n.diagnosisTypeId,code:n.diagnosisTypeCode,name:n.diagnosisTypeName}};n.spinner.show(),yield n.http.post(c+"/patients/save_radiology?consultation_id=0&non_consultation_id="+n.nonConsultationId+"&admission_id=0",a,t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(()=>{n.loadRadiology(0,n.nonConsultationId,0),n.msgBox.showSuccessMessage("Radiology Saved successifully")}).catch(o=>{n.loadRadiology(0,n.nonConsultationId,0),n.msgBox.showErrorMessage(o,"Could not save Radiology"),console.log(o)})})()}loadRadiology(n,t,a){var o=this;return(0,_.Z)(function*(){let l={headers:(new p.WM).set("Authorization","Bearer "+o.auth.user.access_token)};o.radiologies=[],o.radiologyTotal=0,o.spinner.show(),yield o.http.get(c+"/patients/load_radiologies?consultation_id="+n+"&non_consultation_id="+t+"&admission_id="+a,l).pipe((0,u.x)(()=>o.spinner.hide())).toPromise().then(d=>{d?.forEach(h=>{o.radiologyTotal=o.radiologyTotal+h.patientBill.amount,o.radiologies.push(h)}),console.log(d)}).catch(d=>{o.msgBox.showErrorMessage(d,"Could not load radiologies")})})()}loadRadiologyTypeNames(){var n=this;return(0,_.Z)(function*(){n.radiologyTypeNames=[];let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/radiology_types/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),a?.forEach(o=>{n.radiologyTypeNames.push(o)})}).catch(a=>{n.msgBox.showErrorMessage(a,"Could not load radiology types names")})})()}loadNonConsultationId(n){var t=this;return(0,_.Z)(function*(){if("OUTSIDER"!=t.type)return void(t.nonConsultationId=0);let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.nonConsultationId=0,t.spinner.show(),yield t.http.get(c+"/patients/load_non_consultation_id?patient_id="+n,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.nonConsultationId=o}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}loadLabTestTypeNames(){var n=this;return(0,_.Z)(function*(){n.labTestTypeNames=[];let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/lab_test_types/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),a?.forEach(o=>{n.labTestTypeNames.push(o)})}).catch(a=>{n.msgBox.showErrorMessage(a,"Could not load lab test types names")})})()}loadDiagnosisTypeNames(){var n=this;return(0,_.Z)(function*(){n.diagnosisTypeNames=[];let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/diagnosis_types/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),a?.forEach(o=>{n.diagnosisTypeNames.push(o)})}).catch(a=>{n.msgBox.showErrorMessage(a,"Could not load diagnosis types names")})})()}clearTests(){this.labTestTypeName="",this.diagnosisTypeName="",this.radiologyTypeName="",this.procedureTypeName=""}loadTheatreNames(){var n=this;return(0,_.Z)(function*(){n.theatreNames=[];let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(c+"/theatres/get_names",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),a?.forEach(o=>{n.theatreNames.push(o)})}).catch(a=>{n.msgBox.showErrorMessage(a,"Could not load theatre names")})})()}toggleTheatre(){!1===this.procedureNeedTheatre?(this.procedureNeedTheatre=!0,this.procedureType="THEATRE"):(this.procedureNeedTheatre=!1,this.procedureTheatreName="",this.procedureHours=0,this.procedureMinutes=0,this.procedureType="NON-THEATRE")}filterSearchKeys(n){this.searchKeysToDisplay=[],!(n.length<4)&&this.searchKeys.forEach(t=>{var a=t.toLowerCase(),o=n.toLowerCase();a.includes(o)&&this.searchKeysToDisplay.push(t)})}grant(n){var t=!1;return n.forEach(a=>{this.auth.checkPrivilege(a)&&(t=!0)}),t}loadPatientsLike(n){var t=this;return(0,_.Z)(function*(){if(t.patients=[],n.length<3)return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};yield t.http.get(c+"/patients/load_patients_like?name_like="+n,a).toPromise().then(o=>{console.log(o),t.patients=o}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}getPatient(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.patients=[],t.spinner.show(),yield t.http.get(c+"/patients/get?id="+n,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.patientId=o?.id,t.patientNo=o.no,t.patientFirstName=o.firstName,t.patientMiddleName=o.middleName,t.patientLastName=o.lastName,t.patientPhoneNo=o.phoneNo,t.searchKey=t.patientFirstName+" "+t.patientMiddleName+" "+t.patientLastName+" | File No: "+t.patientNo,t.id=o.id,t.no=o.no,t.firstName=o.firstName,t.middleName=o.middleName,t.lastName=o.lastName,t.gender=o.gender,t.dateOfBirth=o.dateOfBirth,t.paymentType=o.paymentType,t.type=o.type,t.membershipNo=o.membershipNo,t.phoneNo=o.phoneNo,t.address=o.address,t.email=o.email,t.nationality=o.nationality,t.nationalId=o.nationalId,t.passportNo=o.passportNo,t.kinFullName=o.kinFullName,t.kinRelationship=o.kinRelationship,t.kinPhoneNo=o.kinPhoneNo,t.insurancePlanName=o.insurancePlan?.name,t.lockSearchKey=!0}).catch(o=>{t.clear(),t.msgBox.showErrorMessage(o,""),console.log(o)}),"OUTPATIENT"===t.type?yield t.loadActiveConsultation(t.id):"OUTSIDER"===t.type&&(yield t.loadNonConsultationId(t.id),yield t.loadLabTest(0,t.nonConsultationId,0),yield t.loadRadiologies(0,t.nonConsultationId,0),yield t.loadProcedures(0,t.nonConsultationId,0)),yield t.getLastVisitDate()})()}loadLabTestTypesLike(n){var t=this;return(0,_.Z)(function*(){if(t.labTestTypes=[],n.length<3)return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.labTestTypes=[],yield t.http.get(c+"/lab_test_types/load_lab_test_types_like?name_like="+n,a).toPromise().then(o=>{console.log(o),t.labTestTypes=o}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}getLabTestType(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.labTestTypes=[],t.spinner.show(),yield t.http.get(c+"/lab_test_types/get?id="+n,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.labTestTypeId=o?.id,t.labTestTypeCode=o.code,t.labTestTypeName=o.name}).catch(o=>{t.msgBox.showErrorMessage(o,""),console.log(o)})})()}loadRadiologyTypesLike(n){var t=this;return(0,_.Z)(function*(){if(t.radiologyTypes=[],n.length<3)return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.radiologyTypes=[],yield t.http.get(c+"/radiology_types/load_radiology_types_like?name_like="+n,a).toPromise().then(o=>{console.log(o),t.radiologyTypes=o}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}getRadiologyType(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.radiologyTypes=[],t.spinner.show(),yield t.http.get(c+"/radiology_types/get?id="+n,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.radiologyTypeId=o?.id,t.radiologyTypeCode=o.code,t.radiologyTypeName=o.name}).catch(o=>{t.msgBox.showErrorMessage(o,""),console.log(o)})})()}loadDiagnosisTypesLike(n){var t=this;return(0,_.Z)(function*(){if(t.diagnosisTypes=[],n.length<3)return;let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};yield t.http.get(c+"/diagnosis_types/load_diagnosis_types_like?name_like="+n,a).toPromise().then(o=>{console.log(o),t.diagnosisTypes=o}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}getDiagnosisType(n){var t=this;return(0,_.Z)(function*(){let a={headers:(new p.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.diagnosisTypes=[],t.spinner.show(),yield t.http.get(c+"/diagnosis_types/get?id="+n,a).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.diagnosisTypeId=o?.id,t.diagnosisTypeCode=o.code,t.diagnosisTypeName=o.name}).catch(o=>{t.msgBox.showErrorMessage(o,""),console.log(o)})})()}loadTransfers(){var n=this;return(0,_.Z)(function*(){let t={headers:(new p.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.consultationTransfers=[],n.spinner.show(),yield n.http.get(c+"/patients/get_consultation_transfers",t).pipe((0,u.x)(()=>n.spinner.hide())).toPromise().then(a=>{console.log(a),n.consultationTransfers=a},a=>{console.log(a),n.msgBox.showErrorMessage(a,"")})})()}processTransfer(n,t){this.getPatient(n),this.clinicName=t,this.loadClinicianNames(t)}}return(s=r).\u0275fac=function(n){return new(n||s)(e.Y36(C.e),e.Y36(p.eN),e.Y36(v.FF),e.Y36(M.t2),e.Y36(x.l))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-patient-register"]],standalone:!0,features:[e.jDz],decls:297,vars:47,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],[1,"btn"],[1,"btn","btn-primary","btn-outline",3,"click"],["data-toggle","modal","data-target","#load-transfers-modal",1,"btn","btn-primary","btn-outline",3,"click"],[1,"panel-body"],[4,"ngIf"],["class","col-sm-12",4,"ngIf"],["id","edit-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body"],[1,"text-primary"],["type","hidden",3,"ngModel","ngModelChange"],[1,"col-sm-4","form-group"],["type","text","placeholder","Enter First Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Middle Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Last Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","date","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["type","text","list","nationalities2","required","",1,"form-control",3,"ngModel","ngModelChange"],["id","nationalities2",2,"padding","0px"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","placeholder","ID No","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Passport No","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","tel","placeholder","Phone Number","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Email","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Full Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Relationship with patient",1,"form-control",3,"ngModel","ngModelChange"],["type","tel","placeholder","Enter Phone No","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["type","button","class","btn btn-success","data-dismiss","modal",3,"click",4,"ngIf"],["id","change-patient-type-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["role","document",1,"modal-dialog","modal-sm"],["type","button","data-dismiss","modal",1,"btn","btn-danger","pull-left"],["type","button","data-dismiss","modal",1,"btn","btn-success","pull-right"],["id","change-payment-type-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],[1,"col-sm-12","form-group"],[1,"form-control",3,"ngModel","ngModelChange","change"],["class","col-sm-12 form-group",4,"ngIf"],["type","button","class","btn btn-success pull-right","data-dismiss","modal",3,"click",4,"ngIf"],["id","add-lab-test-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],["type","button","data-dismiss","modal",1,"btn","btn-success","pull-right",3,"click"],["id","add-radiology-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["id","add-procedure-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],[1,"col-sm-8"],[4,"ngFor","ngForOf"],[1,"col-sm-4"],[2,"width","4cm","height","4cm","background-color","rgba(244, 248, 247, 0.921)","border-style","groove",3,"click"],["id","load-transfers-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["role","document",1,"modal-dialog","modal-lg",2,"width","75%"],[1,"col-sm-12",2,"height","75%","overflow","scroll"],["type","text","placeholder","Search...",1,"form-control","pull-right",2,"max-width","8cm",3,"ngModel","ngModelChange"],[1,"table","table-responsive","table-striped","table-bordered"],[2,"font-weight","bold"],["type","button","data-dismiss","modal",1,"btn","btn-danger","pull-right"],["type","text","name","nationality","list","nationalities",1,"form-control",3,"ngModel","ngModelChange"],["id","nationalities",2,"padding","0px"],["class","col-sm-4 form-group",4,"ngIf"],["class","btn btn-primary pull-right",3,"click",4,"ngIf"],[3,"ngValue"],["type","text","placeholder","INSURANCE Membership No",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","pull-right",3,"click"],[1,"col-xs-3"],[1,"col-xs-6"],["type","text","placeholder","Search...",1,"form-control",2,"max-width","15cm",3,"ngModel","readonly","ngModelChange"],[1,"btn","btn-deafult","btn-outline",3,"click"],["multiple","multiple",1,"form-control",2,"max-width","15cm"],["style","height: 1cm; cursor: pointer; font-size: large;",3,"click",4,"ngFor","ngForOf"],[2,"height","1cm","cursor","pointer","font-size","large",3,"click"],[1,"panel-body",2,"border-radius","2mm"],[1,"table-responsive"],["class","btn btn-primary btn-sm pull-right","data-toggle","modal","data-target","#edit-modal","style","margin-bottom: 2mm;",4,"ngIf"],[1,"table","table-bordered","table-small","table-striped",2,"text-align","center"],[1,"label","label-primary","label-lg","m-r-15"],[1,"label","label-success","label-lg","m-r-15",3,"click"],[1,"label","label-primary","m-r-15"],["data-toggle","modal","data-target","#change-payment-type-modal",1,"label","label-success","label-lg","m-r-15",3,"click"],["data-toggle","modal","data-target","#edit-modal",1,"btn","btn-primary","btn-sm","pull-right",2,"margin-bottom","2mm"],["ngModel","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",2,"text-align","center"],["data-toggle","modal","data-target","#add-lab-test-modal",1,"btn","btn-primary","form-control",3,"click"],["data-toggle","modal","data-target","#add-radiology-modal",1,"btn","btn-primary","form-control",3,"click"],[1,"col-sm-12",2,"text-align","center"],[1,"table","table-bordered","table-small","table-striped"],["class","btn btn-danger form-control",3,"click",4,"ngIf"],[1,"btn","btn-danger","form-control",3,"click"],[1,"glyphicon","glyphicon-trash"],["class","btn btn-danger pull-right",3,"click",4,"ngIf"],[1,"btn","btn-danger","pull-right",3,"click"],[1,"col-sm-6"],[2,"text-align","right"],[1,"text-danger",3,"click"],[1,"fa","fa-trash"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","text","placeholder","Insurance Membership No",1,"form-control",3,"ngModel","ngModelChange"],["multiple","multiple",1,"form-control"],[1,"col-sm-3"],["type","time",1,"form-control",3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["data-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(n,t){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h1"),e._uU(3,"Patient Register"),e.qZA()()(),e.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"a",8),e.NdJ("click",function(){return t.newPatientPrompt()}),e._uU(11,"New Patient"),e.qZA()(),e.TgZ(12,"div",7)(13,"a",8),e.NdJ("click",function(){return t.existingPatientPrompt()}),e._uU(14,"Existing Patient"),e.qZA()(),e.TgZ(15,"div",7)(16,"a",9),e.NdJ("click",function(){return t.loadTransfers()})("click",function(){return t.existingPatientPrompt()}),e._uU(17,"Transfers to other Clinics"),e.qZA()(),e._UZ(18,"div",7),e.qZA(),e.TgZ(19,"div",10),e.YNc(20,R,107,22,"div",11),e.YNc(21,k,23,3,"div",11),e.TgZ(22,"div",3),e.YNc(23,re,119,25,"div",12),e.qZA()()()()()(),e.TgZ(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"button",17)(29,"span",18),e._uU(30,"\xd7"),e.qZA()(),e.TgZ(31,"h2",19),e._uU(32,"Edit Patient Details"),e.qZA()(),e.TgZ(33,"div",20)(34,"div",3)(35,"div",4)(36,"h4",21)(37,"b"),e._uU(38,"Patient's Credentials"),e.qZA()(),e.TgZ(39,"input",22),e.NdJ("ngModelChange",function(o){return t.id=o}),e.qZA(),e.TgZ(40,"div",3)(41,"div",23)(42,"h4",21),e._uU(43,"First Name*"),e.qZA(),e.TgZ(44,"input",24),e.NdJ("ngModelChange",function(o){return t.firstName=o}),e.qZA()(),e.TgZ(45,"div",23)(46,"h4",21),e._uU(47,"Middle Name"),e.qZA(),e.TgZ(48,"input",25),e.NdJ("ngModelChange",function(o){return t.middleName=o}),e.qZA()(),e.TgZ(49,"div",23)(50,"h4",21),e._uU(51,"Last Name*"),e.qZA(),e.TgZ(52,"input",26),e.NdJ("ngModelChange",function(o){return t.lastName=o}),e.qZA()()(),e._UZ(53,"hr"),e.qZA(),e.TgZ(54,"div",4)(55,"div",3)(56,"div",23)(57,"h4",21),e._uU(58),e.ALo(59,"date"),e.qZA(),e.TgZ(60,"input",27),e.NdJ("ngModelChange",function(o){return t.dateOfBirth=o}),e.qZA()(),e.TgZ(61,"div",23)(62,"h4",21),e._uU(63,"Gender*"),e.qZA(),e.TgZ(64,"select",28),e.NdJ("ngModelChange",function(o){return t.gender=o}),e.TgZ(65,"option"),e._uU(66),e.qZA(),e.TgZ(67,"option"),e._uU(68,"Male"),e.qZA(),e.TgZ(69,"option"),e._uU(70,"Female"),e.qZA()()(),e.TgZ(71,"div",23)(72,"h4",21),e._uU(73,"Nationality"),e.qZA(),e.TgZ(74,"input",29),e.NdJ("ngModelChange",function(o){return t.nationality=o}),e.qZA(),e.TgZ(75,"datalist",30),e.YNc(76,le,2,2,"option",31),e.qZA()(),e.TgZ(77,"div",23)(78,"h4",21),e._uU(79,"ID No"),e.qZA(),e.TgZ(80,"input",32),e.NdJ("ngModelChange",function(o){return t.nationalId=o}),e.qZA()(),e.TgZ(81,"div",23)(82,"h4",21),e._uU(83,"Passport No"),e.qZA(),e.TgZ(84,"input",33),e.NdJ("ngModelChange",function(o){return t.passportNo=o}),e.qZA()(),e.TgZ(85,"div",23)(86,"h4",21),e._uU(87,"Phone No"),e.qZA(),e.TgZ(88,"input",34),e.NdJ("ngModelChange",function(o){return t.phoneNo=o}),e.qZA()(),e.TgZ(89,"div",23)(90,"h4",21),e._uU(91,"Email"),e.qZA(),e.TgZ(92,"input",35),e.NdJ("ngModelChange",function(o){return t.email=o}),e.qZA()(),e.TgZ(93,"div",23)(94,"h4",21),e._uU(95,"Address"),e.qZA(),e.TgZ(96,"textarea",28),e.NdJ("ngModelChange",function(o){return t.address=o}),e.qZA()()()(),e.TgZ(97,"div",4),e._UZ(98,"hr"),e.TgZ(99,"h4",21)(100,"b"),e._uU(101,"Next of Kin Information"),e.qZA()(),e.TgZ(102,"div",3)(103,"div",23)(104,"h4",21),e._uU(105,"Full Name"),e.qZA(),e.TgZ(106,"input",36),e.NdJ("ngModelChange",function(o){return t.kinFullName=o}),e.qZA()(),e.TgZ(107,"div",23)(108,"h4",21),e._uU(109,"Relationship"),e.qZA(),e.TgZ(110,"input",37),e.NdJ("ngModelChange",function(o){return t.kinRelationship=o}),e.qZA()(),e.TgZ(111,"div",23)(112,"h4",21),e._uU(113,"Phone No"),e.qZA(),e.TgZ(114,"input",38),e.NdJ("ngModelChange",function(o){return t.kinPhoneNo=o}),e.qZA()()()()()(),e.TgZ(115,"div",39)(116,"button",40),e._uU(117,"Close"),e.qZA(),e.YNc(118,de,2,0,"button",41),e.qZA()()()(),e.TgZ(119,"div",42)(120,"div",43)(121,"div",15)(122,"div",16)(123,"button",17)(124,"span",18),e._uU(125,"\xd7"),e.qZA()(),e.TgZ(126,"h2",19),e._uU(127,"Change Patient Type"),e.qZA()(),e.TgZ(128,"div",20)(129,"div",3)(130,"div",4)(131,"h4",21),e._uU(132,"Select Patient Type"),e.qZA(),e.TgZ(133,"select",28),e.NdJ("ngModelChange",function(o){return t.editType=o}),e._UZ(134,"option"),e.TgZ(135,"option"),e._uU(136,"OUTPATIENT"),e.qZA(),e.TgZ(137,"option"),e._uU(138,"OUTSIDER"),e.qZA()()()()(),e.TgZ(139,"div",39)(140,"button",44),e._uU(141,"Close"),e.qZA(),e.TgZ(142,"button",45),e._uU(143,"Save Change"),e.qZA()()()()(),e.TgZ(144,"div",46)(145,"div",43)(146,"div",15)(147,"div",16)(148,"button",17)(149,"span",18),e._uU(150,"\xd7"),e.qZA()(),e.TgZ(151,"h2",19),e._uU(152,"Change Payment Type"),e.qZA()(),e.TgZ(153,"div",20)(154,"div",3)(155,"div",47)(156,"h4",21)(157,"b"),e._uU(158,"Select Payment Type"),e.qZA()(),e.TgZ(159,"select",48),e.NdJ("ngModelChange",function(o){return t.editPaymentType=o})("ngModelChange",function(){return t.changeEditPaymentType(t.editPaymentType)})("change",function(){return t.clearEditMembershipNo()})("change",function(){return t.clearEditInsurancePlanName()}),e._UZ(160,"option"),e.TgZ(161,"option"),e._uU(162,"CASH"),e.qZA(),e.TgZ(163,"option"),e._uU(164,"INSURANCE"),e.qZA()()(),e.YNc(165,_e,6,2,"div",49),e.YNc(166,ce,4,1,"div",49),e.qZA()(),e.TgZ(167,"div",39)(168,"button",44),e._uU(169,"Close"),e.qZA(),e.YNc(170,ue,2,0,"button",50),e.qZA()()()(),e.TgZ(171,"div",51)(172,"div",14)(173,"div",15)(174,"div",16)(175,"button",17)(176,"span",18),e._uU(177,"\xd7"),e.qZA()(),e.TgZ(178,"h2",19),e._uU(179,"Add Lab Test"),e.qZA()(),e.TgZ(180,"div",20)(181,"div",3)(182,"div",4)(183,"h4"),e._uU(184,"Search Lab Test (Enter 3 Characters to Search)"),e.qZA(),e.TgZ(185,"input",52),e.NdJ("ngModelChange",function(o){return t.labTestTypeName=o})("ngModelChange",function(o){return t.loadLabTestTypesLike(o)}),e.qZA(),e.YNc(186,he,4,1,"div",53),e.qZA()(),e.TgZ(187,"div",3)(188,"div",4)(189,"h4"),e._uU(190,"Search Diagnosis (Enter 3 Characters to Search)"),e.qZA(),e.TgZ(191,"input",52),e.NdJ("ngModelChange",function(o){return t.diagnosisTypeName=o})("ngModelChange",function(o){return t.loadDiagnosisTypesLike(o)}),e.qZA(),e.YNc(192,Te,4,1,"div",53),e.qZA()()(),e.TgZ(193,"div",39)(194,"button",44),e._uU(195,"Close"),e.qZA(),e.TgZ(196,"button",54),e.NdJ("click",function(){return t.saveLabTest()}),e._uU(197,"Add"),e.qZA()()()()(),e.TgZ(198,"div",55)(199,"div",14)(200,"div",15)(201,"div",16)(202,"button",17)(203,"span",18),e._uU(204,"\xd7"),e.qZA()(),e.TgZ(205,"h2",19),e._uU(206,"Add Radiology"),e.qZA()(),e.TgZ(207,"div",20)(208,"div",3)(209,"div",4)(210,"h4"),e._uU(211,"Search Radiology (Enter 3 Characters to Search)"),e.qZA(),e.TgZ(212,"input",52),e.NdJ("ngModelChange",function(o){return t.radiologyTypeName=o})("ngModelChange",function(o){return t.loadRadiologyTypesLike(o)}),e.qZA(),e.YNc(213,ye,4,1,"div",53),e.qZA()(),e.TgZ(214,"div",3)(215,"div",4)(216,"h4"),e._uU(217,"Search Diagnosis (Enter 3 Characters to Search)"),e.qZA(),e.TgZ(218,"input",52),e.NdJ("ngModelChange",function(o){return t.diagnosisTypeName=o})("ngModelChange",function(o){return t.loadDiagnosisTypesLike(o)}),e.qZA(),e.YNc(219,fe,4,1,"div",53),e.qZA()()(),e.TgZ(220,"div",39)(221,"button",44),e._uU(222,"Close"),e.qZA(),e.TgZ(223,"button",54),e.NdJ("click",function(){return t.saveRadiology()}),e._uU(224,"Add"),e.qZA()()()()(),e.TgZ(225,"div",56)(226,"div",14)(227,"div",15)(228,"div",16)(229,"button",17)(230,"span",18),e._uU(231,"\xd7"),e.qZA()(),e.TgZ(232,"h2",19),e._uU(233,"Add Procedure"),e.qZA()(),e.TgZ(234,"div",20)(235,"div",3)(236,"div",57)(237,"div",3)(238,"div",4)(239,"h4"),e._uU(240,"Select Procedure Type"),e.qZA(),e.TgZ(241,"select",28),e.NdJ("ngModelChange",function(o){return t.procedureTypeName=o}),e._UZ(242,"option"),e.YNc(243,Ce,2,1,"option",58),e.qZA()(),e.TgZ(244,"div",4)(245,"h4"),e._uU(246,"Select Diagnosis"),e.qZA(),e.TgZ(247,"select",28),e.NdJ("ngModelChange",function(o){return t.diagnosisTypeName=o}),e._UZ(248,"option"),e.YNc(249,ve,2,1,"option",58),e.qZA()()()(),e.TgZ(250,"div",59)(251,"button",60),e.NdJ("click",function(){return t.toggleTheatre()}),e._uU(252,"Need Theatre?"),e.qZA()()(),e.YNc(253,xe,23,6,"div",53),e.qZA(),e.TgZ(254,"div",39)(255,"button",44),e._uU(256,"Close"),e.qZA(),e.TgZ(257,"button",54),e.NdJ("click",function(){return t.saveProcedure()}),e._uU(258,"Add"),e.qZA()()()()(),e.TgZ(259,"div",61)(260,"div",62)(261,"div",15)(262,"div",16)(263,"button",17)(264,"span",18),e._uU(265,"\xd7"),e.qZA()(),e.TgZ(266,"h2",19),e._uU(267,"Transfers to Other Clinics"),e.qZA()(),e.TgZ(268,"div",20)(269,"div",3)(270,"div",63)(271,"div",3),e._UZ(272,"div",59)(273,"div",59),e.TgZ(274,"div",59)(275,"input",64),e.NdJ("ngModelChange",function(o){return t.filterRecords=o}),e.qZA()()(),e._UZ(276,"br"),e.TgZ(277,"table",65)(278,"thead",66)(279,"td"),e._uU(280,"Name"),e.qZA(),e.TgZ(281,"td"),e._uU(282,"File No"),e.qZA(),e.TgZ(283,"td"),e._uU(284,"From Clinic"),e.qZA(),e.TgZ(285,"td"),e._uU(286,"From Doctor"),e.qZA(),e.TgZ(287,"td"),e._uU(288,"To Clinic"),e.qZA(),e.TgZ(289,"td"),e._uU(290,"Action"),e.qZA()(),e.TgZ(291,"tbody"),e.YNc(292,Ae,14,7,"tr",58),e.ALo(293,"searchFilter"),e.qZA()()()()(),e.TgZ(294,"div",39)(295,"button",67),e._uU(296,"Close"),e.qZA()()()()()),2&n&&(e.xp6(20),e.Q6J("ngIf","new"===t.patientRecordMode),e.xp6(1),e.Q6J("ngIf",""===t.patientRecordMode),e.xp6(2),e.Q6J("ngIf",null!=t.id),e.xp6(16),e.Q6J("ngModel",t.id),e.xp6(5),e.Q6J("ngModel",t.firstName),e.xp6(4),e.Q6J("ngModel",t.middleName),e.xp6(4),e.Q6J("ngModel",t.lastName),e.xp6(6),e.hij("Date of Birth* * ",e.lcZ(59,42,t.dateOfBirth),""),e.xp6(2),e.Q6J("ngModel",t.dateOfBirth),e.xp6(4),e.Q6J("ngModel",t.gender),e.xp6(2),e.Oqu(t.gender),e.xp6(8),e.Q6J("ngModel",t.nationality),e.xp6(2),e.Q6J("ngForOf",t.nationalities),e.xp6(4),e.Q6J("ngModel",t.nationalId),e.xp6(4),e.Q6J("ngModel",t.passportNo),e.xp6(4),e.Q6J("ngModel",t.phoneNo),e.xp6(4),e.Q6J("ngModel",t.email),e.xp6(4),e.Q6J("ngModel",t.address),e.xp6(10),e.Q6J("ngModel",t.kinFullName),e.xp6(4),e.Q6J("ngModel",t.kinRelationship),e.xp6(4),e.Q6J("ngModel",t.kinPhoneNo),e.xp6(4),e.Q6J("ngIf",null!=t.id),e.xp6(15),e.Q6J("ngModel",t.editType),e.xp6(26),e.Q6J("ngModel",t.editPaymentType),e.xp6(6),e.Q6J("ngIf","INSURANCE"===t.editPaymentType),e.xp6(1),e.Q6J("ngIf",""!=t.editInsurancePlanName&&"INSURANCE"===t.editPaymentType),e.xp6(4),e.Q6J("ngIf","CASH"===t.editPaymentType||"INSURANCE"===t.editPaymentType&&""!=t.editMembershipNo),e.xp6(15),e.Q6J("ngModel",t.labTestTypeName),e.xp6(1),e.Q6J("ngIf",t.labTestTypes.length>0),e.xp6(5),e.Q6J("ngModel",t.diagnosisTypeName),e.xp6(1),e.Q6J("ngIf",t.diagnosisTypes.length>0),e.xp6(20),e.Q6J("ngModel",t.radiologyTypeName),e.xp6(1),e.Q6J("ngIf",t.radiologyTypes.length>0),e.xp6(5),e.Q6J("ngModel",t.diagnosisTypeName),e.xp6(1),e.Q6J("ngIf",t.diagnosisTypes.length>0),e.xp6(22),e.Q6J("ngModel",t.procedureTypeName),e.xp6(2),e.Q6J("ngForOf",t.procedureTypeNames),e.xp6(4),e.Q6J("ngModel",t.diagnosisTypeName),e.xp6(2),e.Q6J("ngForOf",t.diagnosisTypeNames),e.xp6(4),e.Q6J("ngIf",!0===t.procedureNeedTheatre),e.xp6(22),e.Q6J("ngModel",t.filterRecords),e.xp6(17),e.Q6J("ngForOf",e.xi3(293,44,t.consultationTransfers,t.filterRecords)))},dependencies:[T.ez,T.sg,T.O5,T.H9,T.uU,m.u5,m.YN,m.Kr,m.Fj,m.wV,m.EJ,m.JJ,m.Q7,m.On,m.UX,N.G,y.$],styles:["option[_ngcontent-%COMP%]:hover{background-color:#483d8b;color:#fff}"]}),r})()}}]);