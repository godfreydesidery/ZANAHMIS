"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[8293],{8293:(v,_,i)=>{i.r(_),i.d(_,{FinalDiagnosisHistoryComponent:()=>f});var u=i(5861),l=i(6814),g=i(9862),d=i(95),p=i(8237),c=i(4716),m=i(4185),h=i(553),n=i(6689),y=i(6466),Z=i(585),T=i(379);function D(a,r){1&a&&(n.TgZ(0,"a",20),n._UZ(1,"i",21),n._uU(2," Back"),n.qZA())}function b(a,r){1&a&&(n.TgZ(0,"a",22),n._UZ(1,"i",21),n._uU(2," Back"),n.qZA())}function E(a,r){if(1&a&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA()()),2&a){const o=r.$implicit;n.xp6(2),n.Oqu(null==o?null:o.created),n.xp6(2),n.Oqu(null==o||null==o.diagnosisType?null:o.diagnosisType.code),n.xp6(2),n.Oqu(null==o||null==o.diagnosisType?null:o.diagnosisType.name),n.xp6(2),n.Oqu(null==o?null:o.description)}}const A=h.N.apiUrl;let f=(()=>{var a;class r{constructor(t,s,e,U){this.auth=t,this.http=s,this.spinner=e,this.msgBox=U,this.patientId=null,this.finalDiagnosises=[],this.filterRecords="",this.consultationId=null,this.admissionId=null}ngOnInit(){var t=this;return(0,u.Z)(function*(){t.patientId=localStorage.getItem("patient-id"),t.getFinalDiagnosisHistory(),t.consultationId=localStorage.getItem("consultation-id"),t.admissionId=localStorage.getItem("admission-id")})()}getFinalDiagnosisHistory(){var t=this;return(0,u.Z)(function*(){let s={headers:(new g.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(A+"/patients/get_all_final_diagnosises_by_patient_id?patient_id="+t.patientId,s).pipe((0,c.x)(()=>t.spinner.hide())).toPromise().then(e=>{t.finalDiagnosises=e,console.log(e)}).catch(e=>{t.msgBox.showErrorMessage(e,"Could not load final diagnosises"),console.log(e)})})()}grant(t){var s=!1;return t.forEach(e=>{this.auth.checkPrivilege(e)&&(s=!0)}),s}}return(a=r).\u0275fac=function(t){return new(t||a)(n.Y36(y.e),n.Y36(g.eN),n.Y36(Z.t2),n.Y36(T.l))},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-final-diagnosis-history"]],standalone:!0,features:[n.jDz],decls:45,vars:6,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["class","btn btn-primary btn-outline","routerLink","/doctor-cracking",4,"ngIf"],["class","btn btn-primary btn-outline","routerLink","/doctor-inpatient",4,"ngIf"],["routerLink","/clinical-note-history",1,"btn","btn-primary","btn-outline"],["routerLink","/general-examination-history",1,"btn","btn-primary","btn-outline"],["routerLink","/final-diagnosis-history",1,"btn","btn-primary"],["routerLink","/lab-test-history",1,"btn","btn-primary","btn-outline"],["routerLink","/radiology-history",1,"btn","btn-primary","btn-outline"],["routerLink","/procedure-history",1,"btn","btn-primary","btn-outline"],["routerLink","/prescription-history",1,"btn","btn-primary","btn-outline"],[1,"panel-body"],[1,"table","table-responsive","table-bordered","table-striped","table-small"],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],["routerLink","/doctor-cracking",1,"btn","btn-primary","btn-outline"],[1,"glyphicon","glyphicon-triangle-left"],["routerLink","/doctor-inpatient",1,"btn","btn-primary","btn-outline"]],template:function(t,s){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"h1"),n._uU(3,"Patient History - Final Diagnosis"),n.qZA()()(),n.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),n.YNc(9,D,3,0,"a",7),n.YNc(10,b,3,0,"a",8),n.TgZ(11,"a",9),n._uU(12,"Clinical Notes"),n.qZA(),n.TgZ(13,"a",10),n._uU(14,"General Examination"),n.qZA(),n.TgZ(15,"a",11),n._uU(16,"Final Diagnosis"),n.qZA(),n.TgZ(17,"a",12),n._uU(18,"Lab Tests"),n.qZA(),n.TgZ(19,"a",13),n._uU(20,"Radiology Tests"),n.qZA(),n.TgZ(21,"a",14),n._uU(22,"Procedures"),n.qZA(),n.TgZ(23,"a",15),n._uU(24,"Medications"),n.qZA()(),n.TgZ(25,"div",16)(26,"div",3)(27,"div",4)(28,"table",17)(29,"thead")(30,"tr",18)(31,"td"),n._uU(32,"Created At/By"),n.qZA(),n.TgZ(33,"td"),n._uU(34,"Code"),n.qZA(),n.TgZ(35,"td"),n._uU(36,"Diagnosis"),n.qZA(),n.TgZ(37,"td"),n._uU(38,"Description"),n.qZA()()(),n.TgZ(39,"tbody"),n.YNc(40,E,9,4,"tr",19),n.ALo(41,"searchFilter"),n.qZA()(),n.TgZ(42,"table",17)(43,"tbody"),n._UZ(44,"tr"),n.qZA()()()()()()()()()),2&t&&(n.xp6(9),n.Q6J("ngIf",null!=s.consultationId),n.xp6(1),n.Q6J("ngIf",null!=s.admissionId),n.xp6(30),n.Q6J("ngForOf",n.xi3(41,3,s.finalDiagnosises,s.filterRecords)))},dependencies:[l.ez,l.sg,l.O5,d.u5,d.UX,m.G,p.rH]}),r})()}}]);