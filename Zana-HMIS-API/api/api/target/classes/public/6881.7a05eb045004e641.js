"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[6881],{6881:(J,m,d)=>{d.r(m),d.d(m,{LocalPurchaseOrderComponent:()=>k});var a=d(5861),c=d(9862),u=d(4716),v=d(553),h=d(6814),_=d(95),Z=d(4185),e=d(6689),f=d(6466),O=d(1581),C=d(585),T=d(8237),M=d(379);function A(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.verifyOrder())}),e._UZ(1,"span",54),e._uU(2,"Verify Order"),e.qZA()}}function P(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.approveOrder())}),e._UZ(1,"span",55),e._uU(2,"Approve Order"),e.qZA()}}function U(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.submitOrder())}),e._UZ(1,"span",54),e._uU(2,"Submit Order"),e.qZA()}}function x(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"input",30),e.NdJ("ngModelChange",function(r){e.CHM(i);const n=e.oxw();return e.KtG(n.supplierName=r)}),e.qZA()}if(2&s){const i=e.oxw();e.Q6J("ngModel",i.supplierName)}}function y(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"input",48),e.NdJ("ngModelChange",function(r){e.CHM(i);const n=e.oxw();return e.KtG(n.supplierName=r)})("ngModelChange",function(r){e.CHM(i);const n=e.oxw();return e.KtG(n.loadSuppliersLike(r))}),e.qZA()}if(2&s){const i=e.oxw();e.Q6J("ngModel",i.supplierName)}}function N(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"option",58),e.NdJ("click",function(){const n=e.CHM(i).$implicit,o=e.oxw(2);return e.KtG(o.getSupplier(n.id))}),e._uU(1),e.qZA()}if(2&s){const i=l.$implicit;e.xp6(1),e.AsE("",i.code," | ",i.name,"")}}function D(s,l){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4)(2,"select",56),e.YNc(3,N,2,2,"option",57),e.qZA()()()),2&s){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.suppliers)}}function L(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"h4",18),e._uU(1,"Order Details "),e.TgZ(2,"button",59),e.NdJ("click",function(){e.CHM(i);const r=e.oxw();return e.KtG(r.clearDetail())}),e._uU(3,"+"),e.qZA()()}}function q(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"span",61),e.NdJ("click",function(){e.CHM(i);const r=e.oxw().$implicit,n=e.oxw();return e.KtG(n.deleteDetail(r.id))}),e.qZA()}}function E(s,l){if(1&s&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._UZ(7,"td")(8,"td"),e.TgZ(9,"td"),e.YNc(10,q,1,0,"span",60),e.qZA()()),2&s){const i=l.$implicit,t=e.oxw();e.xp6(2),e.Oqu(i.item.code),e.xp6(2),e.Oqu(i.item.name),e.xp6(2),e.Oqu(i.qty),e.xp6(4),e.Q6J("ngIf","PENDING"===t.status)}}function b(s,l){if(1&s){const i=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"span",62),e.NdJ("click",function(){const n=e.CHM(i).$implicit,o=e.oxw();return e.KtG(o.search(n.id))}),e._uU(15,"[Select]"),e.qZA()()()}if(2&s){const i=l.$implicit;e.xp6(2),e.Oqu(i.no),e.xp6(2),e.Oqu(null==i||null==i.supplier?null:i.supplier.name),e.xp6(2),e.Oqu(e.lcZ(7,5,i.orderDate)),e.xp6(3),e.Oqu(e.lcZ(10,7,i.validUntil)),e.xp6(3),e.Oqu(i.status)}}function I(s,l){if(1&s&&(e.TgZ(0,"option",63),e._uU(1),e.qZA()),2&s){const i=l.$implicit;e.Q6J("ngValue",i),e.xp6(1),e.Oqu(i)}}const p=v.N.apiUrl;let k=(()=>{var s;class l{constructor(t,r,n,o,g,w){this.auth=t,this.http=r,this.modalService=n,this.spinner=o,this.router=g,this.msgBox=w,this.no="",this.status="",this.statusDescription="",this.created="",this.verified="",this.approved="",this.noLocked=!1,this.localPurchaseOrders=[],this.detailItemCode="",this.detailItemName="",this.detailItemId=null,this.detailQty=0,this.itemNames=[],this.filterRecords="",this.filterOrders="",this.supplierId=null,this.supplierCode="",this.supplierName="",this.supplierCodeAndName="",this.suppliers=[]}ngOnInit(){var t=this;return(0,a.Z)(function*(){t.loadItemNames()})()}loadOrders(){var t=this;return(0,a.Z)(function*(){let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(p+"/local_purchase_orders",r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(n=>{t.localPurchaseOrders=n},n=>{console.log(n),t.msgBox.showErrorMessage(n,"")})})()}requestNo(){var t=this;return(0,a.Z)(function*(){t.clear();let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(p+"/local_purchase_orders/request_no",r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(n=>{t.no=n.no,t.noLocked=!0}).catch(n=>{console.log(n),t.msgBox.showErrorMessage(n,"")}),t.localPurchaseOrder.localPurchaseOrderDetails=[]})()}saveOrder(){var t=this;return(0,a.Z)(function*(){let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};var n={id:t.id,no:t.no,supplier:{id:t.supplierId},validUntil:t.validUntil};t.spinner.show(),yield t.http.post(p+"/local_purchase_orders/save",n,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.id=o?.id,t.no=o.no,t.orderDate=o.orderDate,t.validUntil=o.validUntil,t.status=o.status,t.statusDescription=o.statusDescription,t.created=o.created,t.verified=o.verified,t.approved=o.approved,t.supplier=o.supplier,t.supplierName=t.supplier.name,t.localPurchaseOrder=o,t.msgBox.showSuccessMessage("Success")}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}saveDetail(){var t=this;return(0,a.Z)(function*(){let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};var n={id:t.detailId,localPurchaseOrder:{id:t.id},item:{id:t.detailItemId},qty:t.detailQty};t.spinner.show(),yield t.http.post(p+"/local_purchase_orders/save_detail",n,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.search(t.id)}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}deleteDetail(t){var r=this;return(0,a.Z)(function*(){let n={headers:(new c.WM).set("Authorization","Bearer "+r.auth.user.access_token)};var o={id:t,localPurchaseOrder:{id:r.id}};r.spinner.show(),yield r.http.post(p+"/local_purchase_orders/delete_detail",o,n).pipe((0,u.x)(()=>r.spinner.hide())).toPromise().then(g=>{r.search(r.id)}).catch(g=>{r.msgBox.showErrorMessage(g,"")})})()}verifyOrder(){var t=this;return(0,a.Z)(function*(){if(!window.confirm("Confirm verify order. Confirm?"))return;let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};var n={id:t.id,no:t.no};t.spinner.show(),yield t.http.post(p+"/local_purchase_orders/verify",n,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.id=o?.id,t.no=o.no,t.orderDate=o.orderDate,t.validUntil=o.validUntil,t.status=o.status,t.statusDescription=o.statusDescription,t.created=o.created,t.verified=o.verified,t.approved=o.approved,t.supplier=o.supplier,t.supplierName=t.supplier.name,t.localPurchaseOrder=o,t.msgBox.showSuccessMessage("Order verified successifuly")}).catch(o=>{console.log(o),t.msgBox.showErrorMessage(o,"")})})()}approveOrder(){var t=this;return(0,a.Z)(function*(){if(!window.confirm("Confirm approve order. Confirm?"))return;let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};var n={id:t.id,no:t.no};t.spinner.show(),yield t.http.post(p+"/local_purchase_orders/approve",n,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.id=o?.id,t.no=o.no,t.orderDate=o.orderDate,t.validUntil=o.validUntil,t.status=o.status,t.statusDescription=o.statusDescription,t.created=o.created,t.verified=o.verified,t.approved=o.approved,t.supplier=o.supplier,t.supplierName=t.supplier.name,t.localPurchaseOrder=o,t.msgBox.showSuccessMessage("Order approved successifuly")}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}submitOrder(){var t=this;return(0,a.Z)(function*(){if(!window.confirm("Confirm submit order. Confirm?"))return;let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};var n={id:t.id,no:t.no};t.spinner.show(),yield t.http.post(p+"/local_purchase_orders/submit",n,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(o=>{t.id=o?.id,t.no=o.no,t.orderDate=o.orderDate,t.validUntil=o.validUntil,t.status=o.status,t.statusDescription=o.statusDescription,t.created=o.created,t.verified=o.verified,t.approved=o.approved,t.supplier=o.supplier,t.supplierName=t.supplier.name,t.localPurchaseOrder=o,t.msgBox.showSuccessMessage("Order submitted successifuly")}).catch(o=>{t.msgBox.showErrorMessage(o,"")})})()}loadItemNames(){var t=this;return(0,a.Z)(function*(){t.itemNames=[];let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(p+"/items/get_names",r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(n=>{console.log(n),n?.forEach(o=>{t.itemNames.push(o)})}).catch(n=>{t.msgBox.showErrorMessage(n,"Could not load medicine names")})})()}postOrder(){}cancelOrder(){}lock(){this.noLocked=!0}unlock(){this.noLocked=!1}openToEdit(){var t=this;return(0,a.Z)(function*(){null==t.id?(t.noLocked=!1,t.no=""):t.noLocked=!0})()}clear(){this.id=null,this.no="",this.orderDate=new Date,this.validUntil="",this.status="",this.statusDescription="",this.created="",this.verified="",this.approved="",this.supplierId=null,this.supplierCode="",this.supplierName="",this.supplierCodeAndName=""}searchOrder(){var t=this;return(0,a.Z)(function*(){let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(p+"/local_purchase_orders/search_by_no?no="+t.no,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(n=>{t.id=n?.id,t.no=n.no,t.orderDate=n.orderDate,t.validUntil=n.validUntil,t.status=n.status,t.statusDescription=n.statusDescription,t.created=n.created,t.verified=n.verified,t.approved=n.approved,t.supplier=n.supplier,t.supplierName=t.supplier.name,t.localPurchaseOrder=n,t.lock(),console.log(n)},n=>{console.log(n),t.msgBox.showErrorMessage(n,"")})})()}search(t){var r=this;return(0,a.Z)(function*(){let n={headers:(new c.WM).set("Authorization","Bearer "+r.auth.user.access_token)};r.spinner.show(),yield r.http.get(p+"/local_purchase_orders/search?id="+t,n).pipe((0,u.x)(()=>r.spinner.hide())).toPromise().then(o=>{r.id=o?.id,r.no=o.no,r.orderDate=o.orderDate,r.validUntil=o.validUntil,r.status=o.status,r.statusDescription=o.statusDescription,r.created=o.created,r.verified=o.verified,r.approved=o.approved,r.supplier=o.supplier,r.supplierName=r.supplier.name,r.localPurchaseOrder=o,r.lock(),console.log(o)},o=>{console.log(o),r.msgBox.showErrorMessage(o,"")})})()}searchItem(){var t=this;return(0,a.Z)(function*(){let r={headers:(new c.WM).set("Authorization","Bearer "+t.auth.user.access_token)};""!=t.detailItemCode?(t.spinner.show(),yield t.http.get(p+"/items/get_by_code?code="+t.detailItemCode,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(n=>{t.clearDetail(),t.detailItemId=n.id,t.detailItemCode=n.code,t.detailItemName=n.name},n=>{console.log(n),t.msgBox.showErrorMessage(n,"")})):(t.spinner.show(),yield t.http.get(p+"/items/get_by_name?name="+t.detailItemName,r).pipe((0,u.x)(()=>t.spinner.hide())).toPromise().then(n=>{t.clearDetail(),t.detailItemId=n.id,t.detailItemCode=n.code,t.detailItemName=n.name},n=>{console.log(n),t.msgBox.showErrorMessage(n,"")}))})()}clearDetail(){this.detailId=null,this.detailItemId=null,this.detailItemCode="",this.detailItemName="",this.detailQty=0}loadSuppliersLike(t){var r=this;return(0,a.Z)(function*(){if(r.suppliers=[],t.length<2)return;let n={headers:(new c.WM).set("Authorization","Bearer "+r.auth.user.access_token)};yield r.http.get(p+"/suppliers/load_suppliers_like?name_like="+t,n).toPromise().then(o=>{console.log(o),r.suppliers=o}).catch(o=>{r.msgBox.showErrorMessage(o,"")})})()}getSupplier(t){var r=this;return(0,a.Z)(function*(){let n={headers:(new c.WM).set("Authorization","Bearer "+r.auth.user.access_token)};r.suppliers=[],r.spinner.show(),yield r.http.get(p+"/suppliers/get?id="+t,n).pipe((0,u.x)(()=>r.spinner.hide())).toPromise().then(o=>{r.supplierId=o?.id,r.supplierCode=o.code,r.supplierName=o.name,r.supplierCodeAndName=o.code+" | "+o.name}).catch(o=>{r.msgBox.showErrorMessage(o,""),console.log(o)})})()}grant(t){var r=!1;return t.forEach(n=>{this.auth.checkPrivilege(n)&&(r=!0)}),r}}return(s=l).\u0275fac=function(t){return new(t||s)(e.Y36(f.e),e.Y36(c.eN),e.Y36(O.FF),e.Y36(C.t2),e.Y36(T.F0),e.Y36(M.l))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-local-purchase-order"]],standalone:!0,features:[e.jDz],decls:186,vars:34,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["data-toggle","modal","data-target","#order-list-modal",1,"btn","btn-primary","btn-outline",3,"click"],[1,"glyphicon","glyphicon-list"],[1,"btn","btn-primary","btn-outline",3,"click"],[1,"glyphicon","glyphicon-file"],[1,"glyphicon","glyphicon-pencil"],[1,"glyphicon","glyphicon-floppy-disk"],["class","btn btn-primary btn-outline",3,"click",4,"ngIf"],[1,"panel-body"],[1,"col-sm-4"],["type","hidden",3,"ngModel","ngModelChange"],[1,"col-sm-3"],[1,"text-primary"],[1,"col-sm-9"],[1,"col-sm-8"],["type","text",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"btn","btn-primary",3,"click"],["type","text","class","form-control","readonly","",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","row",4,"ngIf"],[1,"form-control"],[1,"col-xs-9"],[1,"col-xs-3"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["readonly","",1,"form-control"],["class","text-primary",4,"ngIf"],["type","text","placeholder","Search...",1,"form-control","pull-right",2,"max-width","8cm",3,"ngModel","ngModelChange"],[1,"table","table-responsive","table","striped","table-bordered"],[4,"ngFor","ngForOf"],["id","order-list-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-title"],[1,"modal-body"],[1,"table","table-bordered"],[2,"position","sticky","top","0"],[1,"table-dark"],["id","medicine-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[3,"click"],["type","text","list","names",1,"form-control",3,"ngModel","ngModelChange"],["id","names",2,"padding","0px"],[3,"ngValue",4,"ngFor","ngForOf"],["data-dismiss","modal",1,"btn","btn-success","pull-right",3,"click"],[1,"glyphicon","glyphicon-arrow-right"],[1,"glyphicon","glyphicon-ok"],["multiple","multiple",1,"form-control"],["style","height: 1cm; cursor: pointer; font-size: large;",3,"click",4,"ngFor","ngForOf"],[2,"height","1cm","cursor","pointer","font-size","large",3,"click"],["data-toggle","modal","data-target","#medicine-modal",1,"btn","btn-success",2,"border-radius","5mm",3,"click"],["class","glyphicon glyphicon-trash",3,"click",4,"ngIf"],[1,"glyphicon","glyphicon-trash",3,"click"],["data-dismiss","modal",2,"cursor","pointer",3,"click"],[3,"ngValue"]],template:function(t,r){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h1"),e._uU(3,"Local Purchase Order"),e.qZA()()(),e.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),e.NdJ("click",function(){return r.loadOrders()}),e._UZ(10,"span",8),e._uU(11,"Local Purchase Order List"),e.qZA(),e.TgZ(12,"button",9),e.NdJ("click",function(){return r.requestNo()}),e._UZ(13,"span",10),e._uU(14,"New Order"),e.qZA(),e.TgZ(15,"button",9),e.NdJ("click",function(){return r.openToEdit()}),e._UZ(16,"span",11),e._uU(17,"Edit Order"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return r.saveOrder()}),e._UZ(19,"span",12),e._uU(20,"Save Order"),e.qZA(),e.YNc(21,A,3,0,"button",13),e.YNc(22,P,3,0,"button",13),e.YNc(23,U,3,0,"button",13),e.qZA(),e.TgZ(24,"div",14)(25,"div",3)(26,"div",15)(27,"div",3)(28,"input",16),e.NdJ("ngModelChange",function(o){return r.id=o}),e.qZA(),e.TgZ(29,"div",17)(30,"h4",18),e._uU(31,"No"),e.qZA()(),e.TgZ(32,"div",19)(33,"div",3)(34,"div",20)(35,"input",21),e.NdJ("ngModelChange",function(o){return r.no=o}),e.qZA()(),e.TgZ(36,"div",15)(37,"button",22),e.NdJ("click",function(){return r.searchOrder()}),e._uU(38,"Search"),e.qZA()()()()(),e.TgZ(39,"div",3)(40,"div",17)(41,"h4",18),e._uU(42,"Supplier"),e.qZA()(),e.TgZ(43,"div",19),e.YNc(44,x,1,1,"input",23),e.YNc(45,y,1,1,"input",24),e.qZA(),e._UZ(46,"div",17),e.TgZ(47,"div",19),e.YNc(48,D,4,1,"div",25),e.qZA()(),e.TgZ(49,"div",3)(50,"div",17)(51,"h4",18),e._uU(52,"Order Date"),e.qZA()(),e.TgZ(53,"div",19)(54,"span",26),e._uU(55),e.ALo(56,"date"),e.qZA()()(),e.TgZ(57,"div",3)(58,"div",17)(59,"h4",18),e._uU(60,"Valid Until"),e.qZA()(),e.TgZ(61,"div",19)(62,"div",3)(63,"div",27)(64,"span",26),e._uU(65),e.ALo(66,"date"),e.qZA()(),e.TgZ(67,"div",28)(68,"input",29),e.NdJ("ngModelChange",function(o){return r.validUntil=o}),e.qZA()()()()(),e.TgZ(69,"div",3)(70,"div",17)(71,"h4",18),e._uU(72,"Status"),e.qZA()(),e.TgZ(73,"div",19)(74,"input",30),e.NdJ("ngModelChange",function(o){return r.status=o}),e.qZA()()(),e.TgZ(75,"div",3)(76,"div",17)(77,"h4",18),e._uU(78,"Status Description"),e.qZA()(),e.TgZ(79,"div",19)(80,"textarea",31),e._uU(81),e.qZA()()()(),e.TgZ(82,"div",20)(83,"div",3)(84,"div",4),e.YNc(85,L,4,0,"h4",32),e.qZA(),e.TgZ(86,"div",4)(87,"div",3),e._UZ(88,"div",15)(89,"div",15),e.TgZ(90,"div",15)(91,"input",33),e.NdJ("ngModelChange",function(o){return r.filterRecords=o}),e.qZA()()(),e._UZ(92,"br"),e.TgZ(93,"table",34)(94,"thead")(95,"tr")(96,"td"),e._uU(97,"Code"),e.qZA(),e.TgZ(98,"td"),e._uU(99,"Name"),e.qZA(),e.TgZ(100,"td"),e._uU(101,"Qty"),e.qZA(),e.TgZ(102,"td"),e._uU(103,"Price@"),e.qZA(),e.TgZ(104,"td"),e._uU(105,"Amount"),e.qZA(),e.TgZ(106,"td"),e._uU(107,"Action"),e.qZA()()(),e.TgZ(108,"tbody"),e.YNc(109,E,11,4,"tr",35),e.ALo(110,"searchFilter"),e.qZA()()()()()()()()()()(),e.TgZ(111,"div",36)(112,"div",37)(113,"div",38)(114,"div",39)(115,"button",40)(116,"span",41),e._uU(117,"\xd7"),e.qZA()(),e.TgZ(118,"h3",42),e._uU(119,"Order List"),e.qZA()(),e.TgZ(120,"div",43)(121,"div",3),e._UZ(122,"div",15)(123,"div",15),e.TgZ(124,"div",15)(125,"input",33),e.NdJ("ngModelChange",function(o){return r.filterOrders=o}),e.qZA()()(),e._UZ(126,"br"),e.TgZ(127,"table",44)(128,"thead",45)(129,"tr",46)(130,"td"),e._uU(131,"Order#"),e.qZA(),e.TgZ(132,"td"),e._uU(133,"Supplier"),e.qZA(),e.TgZ(134,"td"),e._uU(135,"Order Date"),e.qZA(),e.TgZ(136,"td"),e._uU(137,"Valid Until"),e.qZA(),e.TgZ(138,"td"),e._uU(139,"Status"),e.qZA(),e.TgZ(140,"td"),e._uU(141,"Select"),e.qZA()()(),e.TgZ(142,"tbody"),e.YNc(143,b,16,9,"tr",35),e.ALo(144,"searchFilter"),e.qZA()()()()()(),e.TgZ(145,"div",47)(146,"div",37)(147,"div",38)(148,"div",39)(149,"button",40)(150,"span",41),e._uU(151,"\xd7"),e.qZA()(),e.TgZ(152,"h3",42),e._uU(153,"Add/Edit Item"),e.qZA()(),e.TgZ(154,"div",43)(155,"div",3)(156,"input",16),e.NdJ("ngModelChange",function(o){return r.detailId=o}),e.qZA(),e.TgZ(157,"div",17)(158,"h4"),e._uU(159,"Code"),e.qZA()(),e.TgZ(160,"div",19)(161,"div",3)(162,"div",20)(163,"input",48),e.NdJ("ngModelChange",function(o){return r.detailItemCode=o}),e.qZA()(),e.TgZ(164,"div",15)(165,"button",49),e.NdJ("click",function(){return r.searchItem()}),e._uU(166,"Search"),e.qZA()()()()(),e.TgZ(167,"div",3)(168,"div",17)(169,"h4"),e._uU(170,"Name"),e.qZA()(),e.TgZ(171,"div",19)(172,"input",50),e.NdJ("ngModelChange",function(o){return r.detailItemName=o}),e.qZA(),e.TgZ(173,"datalist",51),e.YNc(174,I,2,2,"option",52),e.qZA()()(),e.TgZ(175,"div",3)(176,"div",17)(177,"h4"),e._uU(178,"Qty"),e.qZA()(),e.TgZ(179,"div",19)(180,"input",48),e.NdJ("ngModelChange",function(o){return r.detailQty=o}),e.qZA()()(),e.TgZ(181,"div",3),e._UZ(182,"hr"),e.TgZ(183,"div",4)(184,"button",53),e.NdJ("click",function(){return r.saveDetail()}),e._uU(185,"Save"),e.qZA()()()()()()()),2&t&&(e.xp6(21),e.Q6J("ngIf","PENDING"===r.status),e.xp6(1),e.Q6J("ngIf","VERIFIED"===r.status),e.xp6(1),e.Q6J("ngIf","APPROVED"===r.status),e.xp6(5),e.Q6J("ngModel",r.id),e.xp6(7),e.Q6J("ngModel",r.no)("readonly",r.noLocked),e.xp6(9),e.Q6J("ngIf",null!=r.id),e.xp6(1),e.Q6J("ngIf",null===r.id),e.xp6(3),e.Q6J("ngIf",r.suppliers.length>0),e.xp6(7),e.Oqu(e.lcZ(56,24,r.orderDate)),e.xp6(10),e.Oqu(e.lcZ(66,26,r.validUntil)),e.xp6(3),e.Q6J("ngModel",r.validUntil),e.xp6(6),e.Q6J("ngModel",r.status),e.xp6(7),e.Oqu(r.statusDescription),e.xp6(4),e.Q6J("ngIf",null!=r.id&&"PENDING"===r.status),e.xp6(6),e.Q6J("ngModel",r.filterRecords),e.xp6(18),e.Q6J("ngForOf",e.xi3(110,28,null==r.localPurchaseOrder?null:r.localPurchaseOrder.localPurchaseOrderDetails,r.filterRecords)),e.xp6(16),e.Q6J("ngModel",r.filterOrders),e.xp6(18),e.Q6J("ngForOf",e.xi3(144,31,r.localPurchaseOrders,r.filterOrders)),e.xp6(13),e.Q6J("ngModel",r.detailId),e.xp6(7),e.Q6J("ngModel",r.detailItemCode),e.xp6(9),e.Q6J("ngModel",r.detailItemName),e.xp6(2),e.Q6J("ngForOf",r.itemNames),e.xp6(6),e.Q6J("ngModel",r.detailQty))},dependencies:[h.ez,h.sg,h.O5,h.uU,_.u5,_.YN,_.Kr,_.Fj,_.JJ,_.On,_.UX,Z.G]}),l})()}}]);