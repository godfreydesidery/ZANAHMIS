"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[6720],{6720:(I,_,i)=>{i.r(_),i.d(_,{ClinicalNoteHistoryComponent:()=>v});var c=i(5861),l=i(6814),u=i(9862),p=i(95),d=i(8237),g=i(4716),h=i(4185),m=i(2570),E=i(9833),Z=i(553),t=i(6689),y=i(6466),A=i(585),C=i(379);function T(o,s){1&o&&(t.TgZ(0,"a",20),t._UZ(1,"i",21),t._uU(2," Back"),t.qZA())}function b(o,s){1&o&&(t.TgZ(0,"a",22),t._UZ(1,"i",21),t._uU(2," Back"),t.qZA())}function U(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"showTime"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"showUser"),t.qZA()()),2&o){const a=s.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,null==a?null:a.created)),t.xp6(3),t.Oqu(null==a?null:a.mainComplain),t.xp6(2),t.Oqu(t.lcZ(8,5,null==a?null:a.created))}}const O=Z.N.apiUrl;let v=(()=>{var o;class s{constructor(n,e,r,M){this.auth=n,this.http=e,this.spinner=r,this.msgBox=M,this.patientId=null,this.clinicalNotes=[],this.filterRecords="",this.consultationId=null,this.admissionId=null}ngOnInit(){var n=this;return(0,c.Z)(function*(){n.patientId=localStorage.getItem("patient-id"),n.getClinicalNoteHistory(),n.consultationId=localStorage.getItem("consultation-id"),n.admissionId=localStorage.getItem("admission-id")})()}getClinicalNoteHistory(){var n=this;return(0,c.Z)(function*(){let e={headers:(new u.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(O+"/patients/get_all_clinical_notes_by_patient_id?patient_id="+n.patientId,e).pipe((0,g.x)(()=>n.spinner.hide())).toPromise().then(r=>{n.clinicalNotes=r,console.log(r)}).catch(r=>{n.msgBox.showErrorMessage(r,"Could not load clinical notes"),console.log(r)})})()}grant(n){var e=!1;return n.forEach(r=>{this.auth.checkPrivilege(r)&&(e=!0)}),e}}return(o=s).\u0275fac=function(n){return new(n||o)(t.Y36(y.e),t.Y36(u.eN),t.Y36(A.t2),t.Y36(C.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-clinical-note-history"]],standalone:!0,features:[t.jDz],decls:41,vars:6,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["class","btn btn-primary btn-outline","routerLink","/doctor-cracking",4,"ngIf"],["class","btn btn-primary btn-outline","routerLink","/doctor-inpatient",4,"ngIf"],["routerLink","/clinical-note-history",1,"btn","btn-primary"],["routerLink","/general-examination-history",1,"btn","btn-primary","btn-outline"],["routerLink","/final-diagnosis-history",1,"btn","btn-primary","btn-outline"],["routerLink","/lab-test-history",1,"btn","btn-primary","btn-outline"],["routerLink","/radiology-history",1,"btn","btn-primary","btn-outline"],["routerLink","/procedure-history",1,"btn","btn-primary","btn-outline"],["routerLink","/prescription-history",1,"btn","btn-primary","btn-outline"],[1,"panel-body"],[1,"table","table-responsive","table-bordered","table-striped","table-small"],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],["routerLink","/doctor-cracking",1,"btn","btn-primary","btn-outline"],[1,"glyphicon","glyphicon-triangle-left"],["routerLink","/doctor-inpatient",1,"btn","btn-primary","btn-outline"]],template:function(n,e){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3,"Patient History - Clinical Notes"),t.qZA()()(),t.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t.YNc(9,T,3,0,"a",7),t.YNc(10,b,3,0,"a",8),t.TgZ(11,"a",9),t._uU(12,"Clinical Notes"),t.qZA(),t.TgZ(13,"a",10),t._uU(14,"General Examination"),t.qZA(),t.TgZ(15,"a",11),t._uU(16,"Final Diagnosis"),t.qZA(),t.TgZ(17,"a",12),t._uU(18,"Lab Tests"),t.qZA(),t.TgZ(19,"a",13),t._uU(20,"Radiology Tests"),t.qZA(),t.TgZ(21,"a",14),t._uU(22,"Procedures"),t.qZA(),t.TgZ(23,"a",15),t._uU(24,"Medications"),t.qZA()(),t.TgZ(25,"div",16)(26,"div",3)(27,"div",4)(28,"table",17)(29,"thead")(30,"tr",18)(31,"td"),t._uU(32,"Created At"),t.qZA(),t.TgZ(33,"td"),t._uU(34,"Main Complain"),t.qZA(),t.TgZ(35,"td"),t._uU(36,"Doctor"),t.qZA()()(),t.TgZ(37,"tbody"),t.YNc(38,U,9,7,"tr",19),t.ALo(39,"searchFilter"),t.qZA()(),t._UZ(40,"hr"),t.qZA()()()()()()()),2&n&&(t.xp6(9),t.Q6J("ngIf",null!=e.consultationId),t.xp6(1),t.Q6J("ngIf",null!=e.admissionId),t.xp6(28),t.Q6J("ngForOf",t.xi3(39,3,e.clinicalNotes,e.filterRecords)))},dependencies:[l.ez,l.sg,l.O5,p.u5,p.UX,h.G,m.g,E.r,d.rH]}),s})()}}]);