"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[9319],{9319:(J,h,o)=>{o.r(h),o.d(h,{ExternalMedicalProviderComponent:()=>q});var g=o(5861),u=o(6814),_=o(9862),s=o(95),c=o(4716),m=o(4185),v=o(553),e=o(6689),M=o(6466),Z=o(7140),x=o(585),f=o(379);function E(a,r){1&a&&(e.TgZ(0,"span",34),e._uU(1,"Active"),e.qZA())}function T(a,r){1&a&&(e.TgZ(0,"span",35),e._uU(1,"Inactive"),e.qZA())}function P(a,r){if(1&a){const d=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,E,2,0,"span",30),e.YNc(17,T,2,0,"span",31),e.qZA(),e.TgZ(18,"td")(19,"a",32),e.NdJ("click",function(){const l=e.CHM(d).$implicit,t=e.oxw();return e.KtG(t.getExternalMedicalProvider(l.id))}),e._UZ(20,"i",33),e._uU(21,"Edit"),e.qZA()()()}if(2&a){const d=r.$implicit;e.xp6(2),e.Oqu(d.code),e.xp6(2),e.Oqu(d.name),e.xp6(2),e.Oqu(d.address),e.xp6(2),e.Oqu(d.telephone),e.xp6(2),e.Oqu(d.fax),e.xp6(2),e.Oqu(d.email),e.xp6(2),e.Oqu(d.website),e.xp6(2),e.Q6J("ngIf",!0===d.active),e.xp6(1),e.Q6J("ngIf",!1===d.active)}}function A(a,r){1&a&&(e.TgZ(0,"h1",36),e._uU(1,"Add External Medical Provider"),e.qZA())}function C(a,r){1&a&&(e.TgZ(0,"h1",36),e._uU(1,"Edit External Medical Provider"),e.qZA())}function b(a,r){1&a&&(e.TgZ(0,"span"),e._uU(1,"Update"),e.qZA())}function U(a,r){1&a&&(e.TgZ(0,"span"),e._uU(1,"Add"),e.qZA())}const p=v.N.apiUrl;let q=(()=>{var a;class r{constructor(n,i,l,t,O){this.auth=n,this.http=i,this.modalService=l,this.spinner=t,this.msgBox=O,this.id=null,this.code="",this.name="",this.address="",this.telephone="",this.fax="",this.email="",this.website="",this.active=!1,this.externalMedicalProviders=[],this.externalMedicalProviderNames=[],this.filterRecords=""}ngOnInit(){this.loadExternalMedicalProviders()}saveExternalMedicalProvider(){var n=this;return(0,g.Z)(function*(){let i={headers:(new _.WM).set("Authorization","Bearer "+n.auth.user.access_token)};var l={id:n.id,code:n.code,name:n.name,address:n.address,telephone:n.telephone,fax:n.fax,email:n.email,website:n.website,active:!1};null==n.id||""==n.id?(n.spinner.show(),yield n.http.post(p+"/external_medical_providers/save",l,i).pipe((0,c.x)(()=>n.spinner.hide())).toPromise().then(t=>{n.id=t?.id,n.code=t.code,n.name=t.name,n.address=t.address,n.telephone=t.telephone,n.fax=t.fax,n.email=t.email,n.website=t.website,n.active=t.active,n.msgBox.showSuccessMessage("External Medical provider created successifully"),n.loadExternalMedicalProviders()}).catch(t=>{n.msgBox.showErrorMessage(t,"Could not create insurance provider")})):(n.spinner.show(),yield n.http.post(p+"/external_medical_providers/save",l,i).pipe((0,c.x)(()=>n.spinner.hide())).toPromise().then(t=>{n.id=t?.id,n.code=t.code,n.name=t.name,n.address=t.address,n.telephone=t.telephone,n.fax=t.fax,n.email=t.email,n.website=t.website,n.active=t.active,n.msgBox.showSuccessMessage("External Medical provider updated successifully"),n.loadExternalMedicalProviders()}).catch(t=>{n.msgBox.showErrorMessage(t,"Could not update external medical provider")})),n.clear()})()}loadExternalMedicalProviders(){var n=this;return(0,g.Z)(function*(){n.externalMedicalProviders=[];let i={headers:(new _.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(p+"/external_medical_providers",i).pipe((0,c.x)(()=>n.spinner.hide())).toPromise().then(l=>{l?.forEach(t=>{n.externalMedicalProviders.push(t)})}).catch(l=>{n.msgBox.showErrorMessage(l,"Could not load external medical providers")})})()}clear(){this.id=null,this.code="",this.name="",this.address="",this.telephone="",this.fax="",this.email="",this.website="",this.active=!1}getExternalMedicalProvider(n){var i=this;return(0,g.Z)(function*(){if(""==n)return;let l={headers:(new _.WM).set("Authorization","Bearer "+i.auth.user.access_token)};i.spinner.show(),yield i.http.get(p+"/external_medical_providers/get?id="+n,l).pipe((0,c.x)(()=>i.spinner.hide())).toPromise().then(t=>{i.id=t?.id,i.code=t.code,i.name=t.name,i.address=t.address,i.telephone=t.telephone,i.fax=t.fax,i.email=t.email,i.website=t.website,i.active=t.active}).catch(t=>{console.log(t),i.msgBox.showErrorMessage(t,"Could not find external medical provider")})})()}grant(n){var i=!1;return n.forEach(l=>{this.auth.checkPrivilege(l)&&(i=!0)}),i}}return(a=r).\u0275fac=function(n){return new(n||a)(e.Y36(M.e),e.Y36(_.eN),e.Y36(Z.FF),e.Y36(x.t2),e.Y36(f.l))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-external-medical-provider"]],standalone:!0,features:[e.jDz],decls:101,vars:18,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],[1,"btn"],["type","button","data-toggle","modal","data-target","#add-edit-modal",1,"btn","btn-success","m-r-2","m-b-5",3,"click"],[1,"panel-body"],[1,"col-sm-4"],["type","text","placeholder","Search...",1,"form-control","pull-right",2,"max-width","8cm",3,"ngModel","ngModelChange"],[1,"table","table-bordered","table-small"],[4,"ngFor","ngForOf"],["id","add-edit-modal","tabindex","-1","role","dialog",1,"modal","fade","modal-success"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],["class","modal-title",4,"ngIf"],[1,"modal-body"],["type","hidden",3,"ngModel","ngModelChange"],[1,"col-xs-12"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox",2,"text-align","right",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],[4,"ngIf"],["class","label label-info",4,"ngIf"],["class","label label-danger",4,"ngIf"],["data-toggle","modal","data-target","#add-edit-modal",3,"click"],[1,"glyphicon","glyphicon-pencil"],[1,"label","label-info"],[1,"label","label-danger"],[1,"modal-title"]],template:function(n,i){1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h1"),e._uU(3,"External Medical Provider"),e.qZA()()(),e.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"button",8),e.NdJ("click",function(){return i.clear()}),e._uU(11,"New Provider"),e.qZA()()(),e.TgZ(12,"div",9)(13,"div",4)(14,"div",3),e._UZ(15,"div",10)(16,"div",10),e.TgZ(17,"div",10)(18,"input",11),e.NdJ("ngModelChange",function(t){return i.filterRecords=t}),e.qZA()()(),e._UZ(19,"br"),e.TgZ(20,"table",12)(21,"thead")(22,"tr")(23,"td"),e._uU(24,"Code"),e.qZA(),e.TgZ(25,"td"),e._uU(26,"Name"),e.qZA(),e.TgZ(27,"td"),e._uU(28,"Address"),e.qZA(),e.TgZ(29,"td"),e._uU(30,"Telephone"),e.qZA(),e.TgZ(31,"td"),e._uU(32,"Fax"),e.qZA(),e.TgZ(33,"td"),e._uU(34,"Email"),e.qZA(),e.TgZ(35,"td"),e._uU(36,"Website"),e.qZA(),e.TgZ(37,"td"),e._uU(38,"Status"),e.qZA(),e.TgZ(39,"td"),e._uU(40,"Action"),e.qZA()()(),e.TgZ(41,"tbody"),e.YNc(42,P,22,9,"tr",13),e.ALo(43,"searchFilter"),e.qZA()()()()()()()(),e.TgZ(44,"div",14)(45,"div",15)(46,"div",16)(47,"div",17)(48,"button",18)(49,"span",19),e._uU(50,"\xd7"),e.qZA()(),e.YNc(51,A,2,0,"h1",20),e.YNc(52,C,2,0,"h1",20),e.qZA(),e.TgZ(53,"div",21)(54,"div",3)(55,"input",22),e.NdJ("ngModelChange",function(t){return i.id=t}),e.qZA(),e.TgZ(56,"div",23)(57,"label"),e._uU(58,"Code*"),e.qZA(),e.TgZ(59,"input",24),e.NdJ("ngModelChange",function(t){return i.code=t}),e.qZA()()(),e.TgZ(60,"div",3)(61,"div",23)(62,"label"),e._uU(63,"Medical Provider Name*"),e.qZA(),e.TgZ(64,"input",24),e.NdJ("ngModelChange",function(t){return i.name=t}),e.qZA()()(),e.TgZ(65,"div",3)(66,"div",23)(67,"label"),e._uU(68,"Address"),e.qZA(),e.TgZ(69,"input",24),e.NdJ("ngModelChange",function(t){return i.address=t}),e.qZA()()(),e.TgZ(70,"div",3)(71,"div",23)(72,"label"),e._uU(73,"Telephone"),e.qZA(),e.TgZ(74,"input",24),e.NdJ("ngModelChange",function(t){return i.telephone=t}),e.qZA()()(),e.TgZ(75,"div",3)(76,"div",23)(77,"label"),e._uU(78,"Fax"),e.qZA(),e.TgZ(79,"input",24),e.NdJ("ngModelChange",function(t){return i.fax=t}),e.qZA()()(),e.TgZ(80,"div",3)(81,"div",23)(82,"label"),e._uU(83,"Email"),e.qZA(),e.TgZ(84,"input",24),e.NdJ("ngModelChange",function(t){return i.email=t}),e.qZA()()(),e.TgZ(85,"div",3)(86,"div",23)(87,"label"),e._uU(88,"Website"),e.qZA(),e.TgZ(89,"input",24),e.NdJ("ngModelChange",function(t){return i.website=t}),e.qZA()()(),e.TgZ(90,"div",3)(91,"div",23)(92,"label"),e._uU(93,"Active"),e.qZA(),e.TgZ(94,"input",25),e.NdJ("ngModelChange",function(t){return i.active=t}),e.qZA()()()(),e.TgZ(95,"div",26)(96,"button",27),e._uU(97,"Close"),e.qZA(),e.TgZ(98,"button",28),e.NdJ("click",function(){return i.saveExternalMedicalProvider()}),e.YNc(99,b,2,0,"span",29),e.YNc(100,U,2,0,"span",29),e.qZA()()()()()),2&n&&(e.xp6(18),e.Q6J("ngModel",i.filterRecords),e.xp6(24),e.Q6J("ngForOf",e.xi3(43,15,i.externalMedicalProviders,i.filterRecords)),e.xp6(9),e.Q6J("ngIf",null===i.id),e.xp6(1),e.Q6J("ngIf",null!=i.id),e.xp6(3),e.Q6J("ngModel",i.id),e.xp6(4),e.Q6J("ngModel",i.code),e.xp6(5),e.Q6J("ngModel",i.name),e.xp6(5),e.Q6J("ngModel",i.address),e.xp6(5),e.Q6J("ngModel",i.telephone),e.xp6(5),e.Q6J("ngModel",i.fax),e.xp6(5),e.Q6J("ngModel",i.email),e.xp6(5),e.Q6J("ngModel",i.website),e.xp6(5),e.Q6J("ngModel",i.active),e.xp6(5),e.Q6J("ngIf",null!=i.id),e.xp6(1),e.Q6J("ngIf",null===i.id))},dependencies:[u.ez,u.sg,u.O5,s.u5,s.Fj,s.Wl,s.JJ,s.On,s.UX,m.G]}),r})()}}]);