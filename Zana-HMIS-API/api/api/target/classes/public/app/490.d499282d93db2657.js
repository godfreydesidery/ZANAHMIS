"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[490],{490:(v,u,i)=>{i.r(u),i.d(u,{LabTestHistoryComponent:()=>L});var _=i(5861),l=i(6814),d=i(9862),p=i(95),g=i(8237),c=i(4716),T=i(4185),Z=i(553),t=i(6689),b=i(6466),m=i(585),h=i(379);function y(o,r){1&o&&(t.TgZ(0,"a",20),t._UZ(1,"i",21),t._uU(2," Back"),t.qZA())}function A(o,r){1&o&&(t.TgZ(0,"a",22),t._UZ(1,"i",21),t._uU(2," Back"),t.qZA())}function U(o,r){if(1&o&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA()()()),2&o){const n=r.$implicit;t.xp6(3),t.Oqu(null==n?null:n.created),t.xp6(2),t.Oqu(null==n||null==n.labTestType?null:n.labTestType.name),t.xp6(2),t.Oqu(null==n?null:n.result),t.xp6(2),t.Oqu(null==n?null:n.report),t.xp6(2),t.Oqu(null==n?null:n.description),t.xp6(2),t.Oqu(null==n?null:n.range),t.xp6(2),t.Oqu(null==n?null:n.level),t.xp6(2),t.Oqu(null==n?null:n.unit),t.xp6(2),t.Oqu(null==n?null:n.status)}}const E=Z.N.apiUrl;let L=(()=>{var o;class r{constructor(e,a,s,O){this.auth=e,this.http=a,this.spinner=s,this.msgBox=O,this.patientId=null,this.labTests=[],this.filterRecords="",this.consultationId=null,this.admissionId=null}ngOnInit(){var e=this;return(0,_.Z)(function*(){e.patientId=localStorage.getItem("patient-id"),e.getLabTestHistory(),e.consultationId=localStorage.getItem("consultation-id"),e.admissionId=localStorage.getItem("admission-id")})()}getLabTestHistory(){var e=this;return(0,_.Z)(function*(){let a={headers:(new d.WM).set("Authorization","Bearer "+e.auth.user.access_token)};e.spinner.show(),yield e.http.get(E+"/patients/get_all_lab_tests_by_patient_id?patient_id="+e.patientId,a).pipe((0,c.x)(()=>e.spinner.hide())).toPromise().then(s=>{e.labTests=s,console.log(s)}).catch(s=>{e.msgBox.showErrorMessage(s,"Could not load lab tests"),console.log(s)})})()}grant(e){var a=!1;return e.forEach(s=>{this.auth.checkPrivilege(s)&&(a=!0)}),a}}return(o=r).\u0275fac=function(e){return new(e||o)(t.Y36(b.e),t.Y36(d.eN),t.Y36(m.t2),t.Y36(h.l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-lab-test-history"]],standalone:!0,features:[t.jDz],decls:51,vars:6,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["class","btn btn-primary btn-outline","routerLink","/doctor-cracking",4,"ngIf"],["class","btn btn-primary btn-outline","routerLink","/doctor-inpatient",4,"ngIf"],["routerLink","/clinical-note-history",1,"btn","btn-primary","btn-outline"],["routerLink","/general-examination-history",1,"btn","btn-primary","btn-outline"],["routerLink","/final-diagnosis-history",1,"btn","btn-primary","btn-outline"],["routerLink","/lab-test-history",1,"btn","btn-primary"],["routerLink","/radiology-history",1,"btn","btn-primary","btn-outline"],["routerLink","/procedure-history",1,"btn","btn-primary","btn-outline"],["routerLink","/prescription-history",1,"btn","btn-primary","btn-outline"],[1,"panel-body"],[1,"table","table-responsive","table-striped","table-small","table-bordered"],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],["routerLink","/doctor-cracking",1,"btn","btn-primary","btn-outline"],[1,"glyphicon","glyphicon-triangle-left"],["routerLink","/doctor-inpatient",1,"btn","btn-primary","btn-outline"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3,"Patient History - Lab Test"),t.qZA()()(),t.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t.YNc(9,y,3,0,"a",7),t.YNc(10,A,3,0,"a",8),t.TgZ(11,"a",9),t._uU(12,"Clinical Notes"),t.qZA(),t.TgZ(13,"a",10),t._uU(14,"General Examination"),t.qZA(),t.TgZ(15,"a",11),t._uU(16,"Final Diagnosis"),t.qZA(),t.TgZ(17,"a",12),t._uU(18,"Lab Tests"),t.qZA(),t.TgZ(19,"a",13),t._uU(20,"Radiology Tests"),t.qZA(),t.TgZ(21,"a",14),t._uU(22,"Procedures"),t.qZA(),t.TgZ(23,"a",15),t._uU(24,"Medications"),t.qZA()(),t.TgZ(25,"div",16)(26,"div",3)(27,"div",4)(28,"table",17)(29,"thead")(30,"tr",18)(31,"td"),t._uU(32,"Ordered At/By"),t.qZA(),t.TgZ(33,"td"),t._uU(34,"Lab Test"),t.qZA(),t.TgZ(35,"td"),t._uU(36,"Result"),t.qZA(),t.TgZ(37,"td"),t._uU(38,"Report"),t.qZA(),t.TgZ(39,"td"),t._uU(40,"Description"),t.qZA(),t.TgZ(41,"td"),t._uU(42,"Range"),t.qZA(),t.TgZ(43,"td"),t._uU(44,"Level"),t.qZA(),t.TgZ(45,"td"),t._uU(46,"Unit"),t.qZA(),t.TgZ(47,"td"),t._uU(48,"Status"),t.qZA()()(),t.YNc(49,U,20,9,"tbody",19),t.ALo(50,"searchFilter"),t.qZA()()()()()()()()),2&e&&(t.xp6(9),t.Q6J("ngIf",null!=a.consultationId),t.xp6(1),t.Q6J("ngIf",null!=a.admissionId),t.xp6(39),t.Q6J("ngForOf",t.xi3(50,3,a.labTests,a.filterRecords)))},dependencies:[l.ez,l.sg,l.O5,p.u5,p.UX,T.G,g.rH]}),r})()}}]);