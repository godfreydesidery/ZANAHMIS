"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[5087],{5087:(f,u,i)=>{i.r(u),i.d(u,{RadiologyHistoryComponent:()=>O});var _=i(5861),s=i(6814),d=i(9862),g=i(95),p=i(8237),c=i(4716),y=i(4185),m=i(553),t=i(6689),Z=i(6466),h=i(585),T=i(379);function A(e,l){1&e&&(t.TgZ(0,"a",20),t._UZ(1,"i",21),t._uU(2," Back"),t.qZA())}function U(e,l){1&e&&(t.TgZ(0,"a",22),t._UZ(1,"i",21),t._uU(2," Back"),t.qZA())}function b(e,l){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA()()),2&e){const o=l.$implicit;t.xp6(2),t.Oqu(null==o?null:o.created),t.xp6(2),t.Oqu(null==o||null==o.radiologyType?null:o.radiologyType.name),t.xp6(2),t.Oqu(null==o?null:o.result),t.xp6(2),t.Oqu(null==o?null:o.report),t.xp6(2),t.Oqu(null==o?null:o.description),t.xp6(2),t.Oqu(null==o||null==o.diagnosisType?null:o.diagnosisType.name),t.xp6(2),t.Oqu(null==o?null:o.status)}}const E=m.N.apiUrl;let O=(()=>{var e;class l{constructor(n,a,r,v){this.auth=n,this.http=a,this.spinner=r,this.msgBox=v,this.patientId=null,this.radiologies=[],this.filterRecords="",this.consultationId=null,this.admissionId=null}ngOnInit(){var n=this;return(0,_.Z)(function*(){n.patientId=localStorage.getItem("patient-id"),n.getRadiologyHistory(),n.consultationId=localStorage.getItem("consultation-id"),n.admissionId=localStorage.getItem("admission-id")})()}getRadiologyHistory(){var n=this;return(0,_.Z)(function*(){let a={headers:(new d.WM).set("Authorization","Bearer "+n.auth.user.access_token)};n.spinner.show(),yield n.http.get(E+"/patients/get_all_radiologies_by_patient_id?patient_id="+n.patientId,a).pipe((0,c.x)(()=>n.spinner.hide())).toPromise().then(r=>{n.radiologies=r,console.log(r)}).catch(r=>{n.msgBox.showErrorMessage(r,"Could not load radiologies"),console.log(r)})})()}grant(n){var a=!1;return n.forEach(r=>{this.auth.checkPrivilege(r)&&(a=!0)}),a}}return(e=l).\u0275fac=function(n){return new(n||e)(t.Y36(Z.e),t.Y36(d.eN),t.Y36(h.t2),t.Y36(T.l))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-radiology-history"]],standalone:!0,features:[t.jDz],decls:48,vars:6,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["class","btn btn-primary btn-outline","routerLink","/doctor-cracking",4,"ngIf"],["class","btn btn-primary btn-outline","routerLink","/doctor-inpatient",4,"ngIf"],["routerLink","/clinical-note-history",1,"btn","btn-primary","btn-outline"],["routerLink","/general-examination-history",1,"btn","btn-primary","btn-outline"],["routerLink","/final-diagnosis-history",1,"btn","btn-primary","btn-outline"],["routerLink","/lab-test-history",1,"btn","btn-primary","btn-outline"],["routerLink","/radiology-history",1,"btn","btn-primary"],["routerLink","/procedure-history",1,"btn","btn-primary","btn-outline"],["routerLink","/prescription-history",1,"btn","btn-primary","btn-outline"],[1,"panel-body"],[1,"table","table-responsive","table-striped","table-small","table-bordered"],[2,"font-weight","bold"],[4,"ngFor","ngForOf"],["routerLink","/doctor-cracking",1,"btn","btn-primary","btn-outline"],[1,"glyphicon","glyphicon-triangle-left"],["routerLink","/doctor-inpatient",1,"btn","btn-primary","btn-outline"]],template:function(n,a){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3,"Patient History - Radiology"),t.qZA()()(),t.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),t.YNc(9,A,3,0,"a",7),t.YNc(10,U,3,0,"a",8),t.TgZ(11,"a",9),t._uU(12,"Clinical Notes"),t.qZA(),t.TgZ(13,"a",10),t._uU(14,"General Examination"),t.qZA(),t.TgZ(15,"a",11),t._uU(16,"Final Diagnosis"),t.qZA(),t.TgZ(17,"a",12),t._uU(18,"Lab Tests"),t.qZA(),t.TgZ(19,"a",13),t._uU(20,"Radiology Tests"),t.qZA(),t.TgZ(21,"a",14),t._uU(22,"Procedures"),t.qZA(),t.TgZ(23,"a",15),t._uU(24,"Medications"),t.qZA()(),t.TgZ(25,"div",16)(26,"div",3)(27,"div",4)(28,"table",17)(29,"thead")(30,"tr",18)(31,"td"),t._uU(32,"Ordered At/By"),t.qZA(),t.TgZ(33,"td"),t._uU(34,"Radiology Test"),t.qZA(),t.TgZ(35,"td"),t._uU(36,"Result"),t.qZA(),t.TgZ(37,"td"),t._uU(38,"Report"),t.qZA(),t.TgZ(39,"td"),t._uU(40,"Description"),t.qZA(),t.TgZ(41,"td"),t._uU(42,"Diagnosis"),t.qZA(),t.TgZ(43,"td"),t._uU(44,"Status"),t.qZA()()(),t.TgZ(45,"tbody"),t.YNc(46,b,15,7,"tr",19),t.ALo(47,"searchFilter"),t.qZA()()()()()()()()()),2&n&&(t.xp6(9),t.Q6J("ngIf",null!=a.consultationId),t.xp6(1),t.Q6J("ngIf",null!=a.admissionId),t.xp6(36),t.Q6J("ngForOf",t.xi3(47,3,a.radiologies,a.filterRecords)))},dependencies:[s.ez,s.sg,s.O5,g.u5,g.UX,y.G,p.rH]}),l})()}}]);