"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[300],{300:(f,g,d)=>{d.r(g),d.d(g,{ItemInquiryComponent:()=>y});var h=d(5861),p=d(6814),u=d(9862),m=d(95),v=d(4716),M=d(553),e=d(6689),I=d(6466),Z=d(585),C=d(379);function T(a,l){if(1&a&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&a){const s=l.$implicit;e.Q6J("ngValue",s),e.xp6(1),e.Oqu(s)}}const c=M.N.apiUrl;let y=(()=>{var a;class l{constructor(t,n,i,o){this.auth=t,this.http=n,this.spinner=i,this.msgBox=o,this.code="",this.barcode="",this.name="",this.shortName="",this.commonName="",this.vat=0,this.uom="",this.packSize=0,this.stock=0,this.minimumInventory=0,this.maximumInventory=0,this.defaultReorderQty=0,this.defaultReorderLevel=0,this.active=!1,this.ingredients="",this.names=[],this.filterRecords=""}ngOnInit(){this.loadItemNames()}clear(){this.id=null,this.code="",this.barcode="",this.name="",this.shortName="",this.commonName="",this.vat=0,this.uom="",this.packSize=0,this.stock=0,this.minimumInventory=0,this.maximumInventory=0,this.defaultReorderQty=0,this.defaultReorderLevel=0,this.active=!1,this.ingredients=""}loadItemNames(){var t=this;return(0,h.Z)(function*(){let n={headers:(new u.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(c+"/items/get_names",n).pipe((0,v.x)(()=>t.spinner.hide())).toPromise().then(i=>{console.log(i),t.names=[],i?.forEach(o=>{t.names.push(o)})},i=>{console.log(i),t.msgBox.showErrorMessage(i,"Could not load item names")})})()}searchItem(){var t=this;return(0,h.Z)(function*(){let n={headers:(new u.WM).set("Authorization","Bearer "+t.auth.user.access_token)};var i=t.code,o=t.barcode,_=t.name;""!=i&&(o="",_=""),""!=o&&(_=""),t.spinner.show(),yield t.http.get(c+"/items/search?code="+i+"&barcode="+o+"&name="+_,n).pipe((0,v.x)(()=>t.spinner.hide())).toPromise().then(r=>{t.id=r?.id,t.code=r.code,t.barcode=r.barcode,t.name=r.name,t.shortName=r.shortName,t.commonName=r.commonName,t.vat=r.vat,t.uom=r.uom,t.packSize=r.packSize,t.stock=r.stock,t.minimumInventory=r.minimumInventory,t.maximumInventory=r.maximumInventory,t.defaultReorderQty=r.defaultReorderQty,t.defaultReorderLevel=r.defaultReorderLevel,t.active=r.active,t.ingredients=r.ingredients},r=>{console.log(r),t.msgBox.showErrorMessage(r,"")})})()}grant(t){var n=!1;return t.forEach(i=>{this.auth.checkPrivilege(i)&&(n=!0)}),n}}return(a=l).\u0275fac=function(t){return new(t||a)(e.Y36(I.e),e.Y36(u.eN),e.Y36(Z.t2),e.Y36(C.l))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-item-inquiry"]],standalone:!0,features:[e.jDz],decls:109,vars:16,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],[1,"btn"],["type","button",1,"btn","btn-success","m-r-2","m-b-5",3,"click"],[1,"panel-body"],[1,"col-sm-6"],["type","hidden",3,"ngModel","ngModelChange"],[1,"col-sm-4"],[1,"col-sm-8"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success",3,"click"],["type","text","list","names",1,"form-control",3,"ngModel","ngModelChange"],["id","names",2,"padding","0px"],[3,"ngValue",4,"ngFor","ngForOf"],["type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox","readonly","",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h1"),e._uU(3,"Item Inquiry"),e.qZA()()(),e.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"button",8),e.NdJ("click",function(){return n.clear()}),e._uU(11,"Clear"),e.qZA()()(),e.TgZ(12,"div",9)(13,"div",3)(14,"div",10)(15,"div",3)(16,"input",11),e.NdJ("ngModelChange",function(o){return n.id=o}),e.qZA(),e.TgZ(17,"div",12)(18,"h4"),e._uU(19,"Code"),e.qZA()(),e.TgZ(20,"div",13)(21,"div",3)(22,"div",13)(23,"input",14),e.NdJ("ngModelChange",function(o){return n.code=o}),e.qZA()(),e.TgZ(24,"div",12)(25,"button",15),e.NdJ("click",function(){return n.searchItem()}),e._uU(26,"Search"),e.qZA()()()()(),e.TgZ(27,"div",3)(28,"div",12)(29,"h4"),e._uU(30,"Barcode"),e.qZA()(),e.TgZ(31,"div",13)(32,"input",14),e.NdJ("ngModelChange",function(o){return n.barcode=o}),e.qZA()()(),e.TgZ(33,"div",3)(34,"div",12)(35,"h4"),e._uU(36,"Name"),e.qZA()(),e.TgZ(37,"div",13)(38,"input",16),e.NdJ("ngModelChange",function(o){return n.name=o}),e.qZA()(),e.TgZ(39,"datalist",17),e.YNc(40,T,2,2,"option",18),e.qZA()(),e.TgZ(41,"div",3)(42,"div",12)(43,"h4"),e._uU(44,"Short Name"),e.qZA()(),e.TgZ(45,"div",13)(46,"input",19),e.NdJ("ngModelChange",function(o){return n.shortName=o}),e.qZA()()(),e.TgZ(47,"div",3)(48,"div",12)(49,"h4"),e._uU(50,"Common Name"),e.qZA()(),e.TgZ(51,"div",13)(52,"input",19),e.NdJ("ngModelChange",function(o){return n.commonName=o}),e.qZA()()(),e.TgZ(53,"div",3)(54,"div",12)(55,"h4"),e._uU(56,"Vat"),e.qZA()(),e.TgZ(57,"div",13)(58,"input",19),e.NdJ("ngModelChange",function(o){return n.vat=o}),e.qZA()()(),e.TgZ(59,"div",3)(60,"div",12)(61,"h4"),e._uU(62,"UOM"),e.qZA()(),e.TgZ(63,"div",13)(64,"input",19),e.NdJ("ngModelChange",function(o){return n.uom=o}),e.qZA()()()(),e.TgZ(65,"div",10)(66,"div",3)(67,"div",12)(68,"h4"),e._uU(69,"Stock"),e.qZA()(),e.TgZ(70,"div",13)(71,"input",19),e.NdJ("ngModelChange",function(o){return n.stock=o}),e.qZA()()(),e.TgZ(72,"div",3)(73,"div",12)(74,"h4"),e._uU(75,"Pack Size"),e.qZA()(),e.TgZ(76,"div",13)(77,"input",19),e.NdJ("ngModelChange",function(o){return n.packSize=o}),e.qZA()()(),e.TgZ(78,"div",3)(79,"div",12)(80,"h4"),e._uU(81,"Minimum Inventory"),e.qZA()(),e.TgZ(82,"div",13)(83,"input",19),e.NdJ("ngModelChange",function(o){return n.minimumInventory=o}),e.qZA()()(),e.TgZ(84,"div",3)(85,"div",12)(86,"h4"),e._uU(87,"Maximum Inventory"),e.qZA()(),e.TgZ(88,"div",13)(89,"input",19),e.NdJ("ngModelChange",function(o){return n.maximumInventory=o}),e.qZA()()(),e.TgZ(90,"div",3)(91,"div",12)(92,"h4"),e._uU(93,"Default Reorder Qty"),e.qZA()(),e.TgZ(94,"div",13)(95,"input",19),e.NdJ("ngModelChange",function(o){return n.defaultReorderQty=o}),e.qZA()()(),e.TgZ(96,"div",3)(97,"div",12)(98,"h4"),e._uU(99,"Default Reorder Level"),e.qZA()(),e.TgZ(100,"div",13)(101,"input",19),e.NdJ("ngModelChange",function(o){return n.defaultReorderLevel=o}),e.qZA()()(),e.TgZ(102,"div",3)(103,"div",12),e._UZ(104,"h4"),e.qZA(),e.TgZ(105,"div",13)(106,"input",20),e.NdJ("ngModelChange",function(o){return n.active=o}),e.qZA(),e.TgZ(107,"label"),e._uU(108,"Active"),e.qZA()()()()()()()()()()),2&t&&(e.xp6(16),e.Q6J("ngModel",n.id),e.xp6(7),e.Q6J("ngModel",n.code),e.xp6(9),e.Q6J("ngModel",n.barcode),e.xp6(6),e.Q6J("ngModel",n.name),e.xp6(2),e.Q6J("ngForOf",n.names),e.xp6(6),e.Q6J("ngModel",n.shortName),e.xp6(6),e.Q6J("ngModel",n.commonName),e.xp6(6),e.Q6J("ngModel",n.vat),e.xp6(6),e.Q6J("ngModel",n.uom),e.xp6(7),e.Q6J("ngModel",n.stock),e.xp6(6),e.Q6J("ngModel",n.packSize),e.xp6(6),e.Q6J("ngModel",n.minimumInventory),e.xp6(6),e.Q6J("ngModel",n.maximumInventory),e.xp6(6),e.Q6J("ngModel",n.defaultReorderQty),e.xp6(6),e.Q6J("ngModel",n.defaultReorderLevel),e.xp6(5),e.Q6J("ngModel",n.active))},dependencies:[p.ez,p.sg,m.u5,m.YN,m.Kr,m.Fj,m.Wl,m.JJ,m.On,m.UX]}),l})()}}]);