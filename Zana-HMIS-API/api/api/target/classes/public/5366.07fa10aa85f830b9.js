"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[5366],{5366:(A,_,i)=>{i.r(_),i.d(_,{WorkingDiagnosisHistoryComponent:()=>I});var g=i(5861),l=i(6814),u=i(9862),c=i(95),d=i(8237),p=i(4716),m=i(4185),h=i(553),n=i(6689),y=i(6466),D=i(585),E=i(379);function b(o,e){1&o&&(n.TgZ(0,"a",18),n._UZ(1,"i",19),n._uU(2," Back"),n.qZA())}function T(o,e){1&o&&(n.TgZ(0,"a",20),n._UZ(1,"i",19),n._uU(2," Back"),n.qZA())}function v(o,e){if(1&o&&(n.TgZ(0,"div",3)(1,"div",4)(2,"table",21)(3,"tbody")(4,"tr")(5,"td"),n._uU(6),n.qZA(),n.TgZ(7,"td"),n._uU(8),n.qZA()()()()()()),2&o){const r=e.$implicit;n.xp6(6),n.Oqu(null==r||null==r.diagnosisType?null:r.diagnosisType.name),n.xp6(2),n.Oqu(null==r?null:r.created)}}const Z=h.N.apiUrl;let I=(()=>{var o;class e{constructor(t,s,a,f){this.auth=t,this.http=s,this.spinner=a,this.msgBox=f,this.patientId=null,this.workingDiagnosises=[],this.filterRecords="",this.consultationId=null,this.admissionId=null}ngOnInit(){var t=this;return(0,g.Z)(function*(){t.patientId=localStorage.getItem("patient-id"),t.getWorkingDiagnosisHistory(),t.consultationId=localStorage.getItem("consultation-id"),t.admissionId=localStorage.getItem("admission-id")})()}getWorkingDiagnosisHistory(){var t=this;return(0,g.Z)(function*(){let s={headers:(new u.WM).set("Authorization","Bearer "+t.auth.user.access_token)};t.spinner.show(),yield t.http.get(Z+"/patients/get_all_working_diagnosises_by_patient_id?patient_id="+t.patientId,s).pipe((0,p.x)(()=>t.spinner.hide())).toPromise().then(a=>{t.workingDiagnosises=a,console.log(a)}).catch(a=>{t.msgBox.showErrorMessage(a,"Could not load working diagnosises"),console.log(a)})})()}grant(t){var s=!1;return t.forEach(a=>{this.auth.checkPrivilege(a)&&(s=!0)}),s}}return(o=e).\u0275fac=function(t){return new(t||o)(n.Y36(y.e),n.Y36(u.eN),n.Y36(D.t2),n.Y36(E.l))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-working-diagnosis-history"]],standalone:!0,features:[n.jDz],decls:28,vars:6,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["class","btn btn-primary btn-outline","routerLink","/doctor-cracking",4,"ngIf"],["class","btn btn-primary btn-outline","routerLink","/doctor-inpatient",4,"ngIf"],["routerLink","/clinical-note-history",1,"btn","btn-primary","btn-outline"],["routerLink","/general-examination-history",1,"btn","btn-primary","btn-outline"],["routerLink","/final-diagnosis-history",1,"btn","btn-primary","btn-outline"],["routerLink","/lab-test-history",1,"btn","btn-primary","btn-outline"],["routerLink","/radiology-history",1,"btn","btn-primary","btn-outline"],["routerLink","/procedure-history",1,"btn","btn-primary","btn-outline"],["routerLink","/prescription-history",1,"btn","btn-primary","btn-outline"],[1,"panel-body"],["class","row",4,"ngFor","ngForOf"],["routerLink","/doctor-cracking",1,"btn","btn-primary","btn-outline"],[1,"glyphicon","glyphicon-triangle-left"],["routerLink","/doctor-inpatient",1,"btn","btn-primary","btn-outline"],[1,"table","table-responsive","table-striped","table-small"]],template:function(t,s){1&t&&(n.TgZ(0,"section",0)(1,"div",1)(2,"h1"),n._uU(3,"Patient History - Working Diagnosis"),n.qZA()()(),n.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),n.YNc(9,b,3,0,"a",7),n.YNc(10,T,3,0,"a",8),n.TgZ(11,"a",9),n._uU(12,"Clinical Notes"),n.qZA(),n.TgZ(13,"a",10),n._uU(14,"General Examination"),n.qZA(),n.TgZ(15,"a",11),n._uU(16,"Final Diagnosis"),n.qZA(),n.TgZ(17,"a",12),n._uU(18,"Lab Tests"),n.qZA(),n.TgZ(19,"a",13),n._uU(20,"Radiology Tests"),n.qZA(),n.TgZ(21,"a",14),n._uU(22,"Procedures"),n.qZA(),n.TgZ(23,"a",15),n._uU(24,"Medications"),n.qZA()(),n.TgZ(25,"div",16),n.YNc(26,v,9,2,"div",17),n.ALo(27,"searchFilter"),n.qZA()()()()()),2&t&&(n.xp6(9),n.Q6J("ngIf",null!=s.consultationId),n.xp6(1),n.Q6J("ngIf",null!=s.admissionId),n.xp6(16),n.Q6J("ngForOf",n.xi3(27,3,s.workingDiagnosises,s.filterRecords)))},dependencies:[l.ez,l.sg,l.O5,c.u5,c.UX,m.G,d.rH]}),e})()}}]);