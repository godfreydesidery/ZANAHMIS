"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[4990],{4990:(D,p,i)=>{i.r(p),i.d(p,{NurseOutpatientListComponent:()=>f});var g=i(5861),u=i(6814),c=i(9862),r=i(95),d=i(8237),h=i(4716),m=i(4185),O=i(553),t=i(6689),Z=i(6466),v=i(1581),E=i(585),T=i(379);function A(s,o){1&s&&(t.TgZ(0,"span"),t._uU(1,"Cash"),t.qZA())}function U(s,o){if(1&s&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&s){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(null==n||null==n.insurancePlan?null:n.insurancePlan.name)}}function M(s,o){if(1&s&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,A,2,0,"span",20),t.YNc(7,U,2,1,"span",20),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"a",21),t._uU(12,"Attend"),t.qZA()()()),2&s){const n=o.$implicit;t.xp6(2),t.Oqu((null==n||null==n.patient?null:n.patient.firstName)+" "+(null==n||null==n.patient?null:n.patient.middleName)+" "+(null==n||null==n.patient?null:n.patient.lastName)),t.xp6(2),t.Oqu(null==n||null==n.patient?null:n.patient.no),t.xp6(2),t.Q6J("ngIf",null===(null==n?null:n.insurancePlan)),t.xp6(1),t.Q6J("ngIf",null!=(null==n?null:n.insurancePlan)),t.xp6(2),t.Oqu(null==n||null==n.patient?null:n.patient.gender)}}const P=O.N.apiUrl;let f=(()=>{var s;class o{constructor(e,a,l,_,L,C){this.auth=e,this.http=a,this.modalService=l,this.spinner=_,this.router=L,this.msgBox=C,this.consultations=[],this.filterRecords=""}ngOnInit(){this.loadInpatientList()}attend(e){localStorage.setItem("radiology-patient-id",e),this.router.navigate(["radiology"])}loadInpatientList(){var e=this;return(0,g.Z)(function*(){e.consultations=[];let a={headers:(new c.WM).set("Authorization","Bearer "+e.auth.user.access_token)};e.spinner.show(),yield e.http.get(P+"/patients/get_nurse_outpatient_list",a).pipe((0,h.x)(()=>e.spinner.hide())).toPromise().then(l=>{e.consultations=l,console.log(e.consultations)}).catch(l=>{e.msgBox.showErrorMessage(l,"Could not load patients")})})()}grant(e){var a=!1;return e.forEach(l=>{this.auth.checkPrivilege(l)&&(a=!0)}),a}}return(s=o).\u0275fac=function(e){return new(e||s)(t.Y36(Z.e),t.Y36(c.eN),t.Y36(v.FF),t.Y36(E.t2),t.Y36(d.F0),t.Y36(T.l))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-nurse-outpatient-list"]],standalone:!0,features:[t.jDz],decls:44,vars:5,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],[1,"btn-group"],["routerLink","/nurse-outpatient-list",1,"btn","btn-primary",2,"margin","1px"],[1,"fa","fa-list"],["routerLink","/nurse-inpatient-list",1,"btn","btn-primary","btn-outline",2,"margin","1px"],["routerLink","/nurse-outsider-list",1,"btn","btn-primary","btn-outline",2,"margin","1px"],[1,"panel-body"],[1,"col-sm-12",2,"height","100%","overflow","scroll"],[1,"col-sm-4"],["type","text","placeholder","Search...",1,"form-control","pull-right",2,"max-width","8cm",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-bordered","table-hover","text-small"],[1,"success"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-success"]],template:function(e,a){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3,"Nurse - Outpatient List"),t.qZA()()(),t.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"a",8),t._UZ(11,"i",9),t._uU(12,"Outpatient List"),t.qZA(),t.TgZ(13,"a",10),t._UZ(14,"i",9),t._uU(15,"Inpatient List"),t.qZA(),t.TgZ(16,"a",11),t._UZ(17,"i",9),t._uU(18,"Outsider List"),t.qZA()()(),t.TgZ(19,"div",12)(20,"div",13)(21,"div",3),t._UZ(22,"div",14)(23,"div",14),t.TgZ(24,"div",14)(25,"input",15),t.NdJ("ngModelChange",function(_){return a.filterRecords=_}),t.qZA()()(),t._UZ(26,"br"),t.TgZ(27,"div",16)(28,"table",17)(29,"thead",18)(30,"tr")(31,"th"),t._uU(32,"Name"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Patient's File No"),t.qZA(),t.TgZ(35,"th"),t._uU(36,"Payment Type"),t.qZA(),t.TgZ(37,"th"),t._uU(38,"Gender"),t.qZA(),t.TgZ(39,"th"),t._uU(40,"Action"),t.qZA()()(),t.TgZ(41,"tbody"),t.YNc(42,M,13,5,"tr",19),t.ALo(43,"searchFilter"),t.qZA()()()()()()()()()),2&e&&(t.xp6(25),t.Q6J("ngModel",a.filterRecords),t.xp6(17),t.Q6J("ngForOf",t.xi3(43,2,a.consultations,a.filterRecords)))},dependencies:[u.ez,u.sg,u.O5,r.u5,r.Fj,r.JJ,r.On,r.UX,m.G,d.rH]}),o})()}}]);