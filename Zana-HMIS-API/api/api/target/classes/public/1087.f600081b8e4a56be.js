"use strict";(self.webpackChunkzana_hmis=self.webpackChunkzana_hmis||[]).push([[1087],{1087:(P,d,n)=>{n.r(d),n.d(d,{LabOutsiderListComponent:()=>M});var h=n(5861),u=n(6814),p=n(9862),o=n(95),c=n(8237),g=n(4716),m=n(4185),O=n(553),t=n(6689),E=n(6466),L=n(1581),v=n(585),Z=n(379);function T(r,l){if(1&r){const i=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"a",17),t.NdJ("click",function(){const a=t.CHM(i).$implicit,_=t.oxw();return t.KtG(_.attend(a.id))}),t._uU(11,"Attend"),t.qZA()()()}if(2&r){const i=l.$implicit;t.xp6(2),t.Oqu(i.firstName+" "+i.middleName+" "+i.lastName),t.xp6(2),t.Oqu(i.no),t.xp6(2),t.Oqu(i.paymentType),t.xp6(2),t.Oqu(i.gender)}}const A=O.N.apiUrl;let M=(()=>{var r;class l{constructor(e,s,a,_,b,U){this.auth=e,this.http=s,this.modalService=a,this.spinner=_,this.router=b,this.msgBox=U,this.patients=[],this.filterRecords=""}ngOnInit(){this.loadOutpatientList()}attend(e){localStorage.setItem("lab-test-patient-id",e),this.router.navigate(["lab-test"])}loadOutpatientList(){var e=this;return(0,h.Z)(function*(){e.patients=[];let s={headers:(new p.WM).set("Authorization","Bearer "+e.auth.user.access_token)};e.spinner.show(),yield e.http.get(A+"/patients/get_lab_outsider_list",s).pipe((0,g.x)(()=>e.spinner.hide())).toPromise().then(a=>{e.patients=a,console.log(e.patients)}).catch(a=>{e.msgBox.showErrorMessage(a,"Could not load patients")})})()}grant(e){var s=!1;return e.forEach(a=>{this.auth.checkPrivilege(a)&&(s=!0)}),s}}return(r=l).\u0275fac=function(e){return new(e||r)(t.Y36(E.e),t.Y36(p.eN),t.Y36(L.FF),t.Y36(v.t2),t.Y36(c.F0),t.Y36(Z.l))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-lab-outsider-list"]],standalone:!0,features:[t.jDz],decls:39,vars:5,consts:[[1,"content-header"],[1,"header-title"],[1,"content"],[1,"row"],[1,"col-sm-12"],[1,"panel","panel-bd","lobidrag"],[1,"panel-heading"],["routerLink","/lab-outpatient-list",1,"btn","btn-primary","btn-outline"],["routerLink","/lab-inpatient-list",1,"btn","btn-primary","btn-outline"],["routerLink","/lab-outsider-list",1,"btn","btn-primary"],[1,"panel-body"],[1,"col-sm-4"],["type","text","placeholder","Search...",1,"form-control","pull-right",2,"max-width","8cm",3,"ngModel","ngModelChange"],[1,"table-responsive"],[1,"table","table-bordered","table-hover"],[1,"success"],[4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h1"),t._uU(3,"Laboratory - Outsider List"),t.qZA()()(),t.TgZ(4,"section",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"button",7),t._uU(10,"Outpatient List"),t.qZA(),t.TgZ(11,"button",8),t._uU(12,"Inpatient List"),t.qZA(),t.TgZ(13,"button",9),t._uU(14,"Outsider List"),t.qZA()(),t.TgZ(15,"div",10)(16,"div",3),t._UZ(17,"div",11)(18,"div",11),t.TgZ(19,"div",11)(20,"input",12),t.NdJ("ngModelChange",function(_){return s.filterRecords=_}),t.qZA()()(),t._UZ(21,"br"),t.TgZ(22,"div",13)(23,"table",14)(24,"thead",15)(25,"tr")(26,"th"),t._uU(27,"Name"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Patient's File No"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Payment Type"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Gender"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Action"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,T,12,4,"tr",16),t.ALo(38,"searchFilter"),t.qZA()()()()()()()()),2&e&&(t.xp6(20),t.Q6J("ngModel",s.filterRecords),t.xp6(17),t.Q6J("ngForOf",t.xi3(38,2,s.patients,s.filterRecords)))},dependencies:[u.ez,u.sg,o.u5,o.Fj,o.JJ,o.On,o.UX,m.G,c.rH]}),l})()}}]);